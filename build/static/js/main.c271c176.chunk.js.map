{"version":3,"sources":["shared/GlobalStyles.js","theme/index.js","theme/shadows.js","theme/typography.js","layouts/DashboardLayout/NavBar/NavItem.js","layouts/DashboardLayout/NavBar/index.js","shared/Logo.js","views/StudentProfile/redux.js","views/AccountManagement/redux.js","views/ShareCertificate/redux.js","store.js","utils/mng-token.js","layouts/DashboardLayout/TopBar.js","utils/mng-role.js","shared/Loading/index.js","layouts/DashboardLayout/index.js","layouts/MainLayout/TopBar.js","layouts/MainLayout/index.js","shared/Page.js","shared/NotFoundView.js","views/SignUp/index.js","views/SignIn/index.js","shared/View.js","views/StudentProfile/ProfileForm.jsx","views/StudentProfile/AvatarBar.jsx","views/StudentProfile/index.js","Test.js","views/AccountManagement/AccountTable.jsx","views/AccountManagement/AddAccount.jsx","views/AccountManagement/index.js","views/ShareCertificate/AlertDecryptResultBar.jsx","views/ShareCertificate/AlertFetchResultBar.jsx","utils/utils.js","views/ShareCertificate/DecryptedCertInfo.jsx","views/ShareCertificate/DecryptedSubjectTable.jsx","views/ShareCertificate/EncryptedCertInfo.jsx","views/ShareCertificate/EncryptedSubjectTable.jsx","views/ShareCertificate/SelectionBar.jsx","views/ShareCertificate/index.js","routes.js","App.js","index.js"],"names":["useStyles","makeStyles","createStyles","boxSizing","margin","padding","html","height","width","body","backgroundColor","a","textDecoration","GlobalStyles","theme","createMuiTheme","palette","background","dark","default","colors","common","white","paper","text","primary","blueGrey","secondary","shadows","typography","h1","fontWeight","fontSize","letterSpacing","h2","h3","h4","h5","h6","overline","item","display","paddingTop","paddingBottom","button","color","fontWeightMedium","justifyContent","textTransform","icon","marginRight","spacing","title","active","main","NavItem","className","href","Icon","rest","classes","ListItem","clsx","disableGutters","Button","activeClassName","component","RouterLink","to","size","items","UserIcon","UsersIcon","ShoppingBagIcon","mobileDrawer","desktopDrawer","top","avatar","cursor","NavBar","onMobileClose","openMobile","location","useLocation","user","useSelector","state","studentProfileSlice","useEffect","pathname","content","Box","flexDirection","alignItems","p","Avatar","src","imgSrc","Typography","name","variant","level","Divider","List","map","flexGrow","Hidden","lgUp","Drawer","anchor","onClose","open","mdDown","defaultProps","Logo","props","alt","createSlice","initialState","fetching","reducers","setProfile","action","Object","assign","payload","updateImgSrc","actions","sawtoothAccountsSlice","require","accounts","setFetchedAccounts","addSawtoothAccount","newAcc","privateKeyHex","push","deleteSawtoothAccount","filter","acc","publicKeyHex","initState","currentSelectedAccount","show","encryptedDataOfAccount","certificate","address","versions","txid","timestamp","cipher","subjects","decryptedDataOfAccount","plain","shareCertificateSlice","resetState","updateEncryptedState","updateDecryptedState","appReducer","combineReducers","studentProfileReducer","studentSawtoothAccountReducer","shareCertificateReducer","configureStore","reducer","type","undefined","remember","setRemember","_remember","setSessionToken","token","sessionStorage","setItem","setLocalToken","localStorage","getToken","getItem","root","TopBar","onMobileNavOpen","useState","notifications","navigate","useNavigate","dp","useDispatch","AppBar","elevation","Toolbar","IconButton","Badge","badgeContent","length","onClick","e","removeItem","gridTemplateColumns","gridTemplateRows","rowGap","columnGap","sidebar","Loading","cls","topbar","Skeleton","info","navlink","overflow","wrapper","flex","breakpoints","up","paddingLeft","contentContainer","DashboardLayout","isMobileNavOpen","setMobileNavOpen","loading","fetch","process","headers","Authorization","response","ok","alert","JSON","json","stringify","console","log","fetchStudentProfile","toolbar","MainLayout","Page","forwardRef","ref","children","Helmet","image","marginTop","maxWidth","NotFoundView","Container","align","textAlign","Copyright","Link","Date","getFullYear","form","submit","SignUp","email","password","repassword","setState","errors","setErrors","success","setSuccess","preventDefault","method","setTimeout","CssBaseline","Alert","severity","noValidate","Grid","container","xs","TextField","required","fullWidth","id","label","value","onChange","target","error","helperText","disabled","Boolean","justify","mt","link","SignIn","errs","autoComplete","autoFocus","FormControlLabel","control","Checkbox","checked","componet","View","py","head","position","box","marginBottom","ProfileForm","studentProfile","lastUpdatedState","setCheckPointState","enqueueSnackbar","useSnackbar","anchorOrigin","vertical","horizontal","Paper","InputLabelProps","shrink","utils","DateFnsUtils","views","openTo","disableFuture","autoOk","format","birthDay","selectedDate","KeyboardButtonProps","FormControl","InputLabel","Select","labelId","gender","MenuItem","cmt","phone","hometown","multiline","rows","description","lineHeight","AvatarBar","studentName","avatarSrc","formData","FormData","append","files","res","err","htmlFor","accept","style","px","pb","pt","gutterBottom","StudentProfile","md","Test","AccountTable","sawtoothAccounts","result","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","index","shortPublicKeyHex","slice","repeat","note","hdDelete","subtitle","AddAccount","formState","setFormState","InputProps","AccountManagement","fetchSawtoothAccounts","AlertDecryptResultBar","decryptedData","setToken","AlertTitle","pl","flexShrink","TokenDialog","Dialog","DialogTitle","DialogContent","DialogContentText","wordWrap","DialogActions","navigator","clipboard","writeText","blob","Blob","FileSaver","saveAs","AlertFetchResultBar","selectedAccount","encryptData","privateKey","askPrivateKeyFromWallet","Promise","resolve","reject","window","postMessage","origin","addEventListener","event","data","account","getLinkFromTxid","DecryptedCertInfo","CertTable","cert","certPart1","birthday","Trường","university","faculty","degree","gradyear","certPart2","eduform","issuelocation","issuedate","headmaster","globalregisno","Txid","separateCertificate","Tooltip","sm","SimpleTable","entries","entry","DecryptedSubjectTable","subject","Fragment","version","semester","subjectId","credit","halfSemesterPoint","finalSemesterPoint","teacherId","teacherName","EncryptedCertInfo","mb","EncryptedSubjectTable","SelectionBar","Autocomplete","renderInput","params","options","getOptionLabel","getOptionSelected","option","useStyels","ShareCertificate","Redirector","routes","path","element","replace","App","routing","useRoutes","ThemeProvider","store","maxSnack","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c271c176.chunk.js","sourcesContent":["import { createStyles, makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles(() => createStyles({\n  '@global': {\n    '*': {\n      boxSizing: 'border-box',\n      margin: 0,\n      padding: 0,\n    },\n    html: {\n      '-webkit-font-smoothing': 'antialiased',\n      '-moz-osx-font-smoothing': 'grayscale',\n      height: '100%',\n      width: '100%'\n    },\n    body: {\n      backgroundColor: '#f4f6f8',\n      height: '100%',\n      width: '100%'\n    },\n    a: {\n      textDecoration: 'none'\n    },\n    '#root': {\n      height: '100%',\n      width: '100%'\n    }\n  }\n}));\n\nconst GlobalStyles = () => {\n  useStyles();\n\n  return null;\n};\n\nexport default GlobalStyles;\n","import { createMuiTheme, colors } from \"@material-ui/core\";\nimport shadows from \"./shadows\";\nimport typography from \"./typography\";\n\nconst theme = createMuiTheme({\n  palette: {\n    background: {\n      dark: \"#F4F6F8\",\n      default: colors.common.white,\n      paper: colors.common.white,\n    },\n    // primary: {\n    //   main: colors.indigo[500]\n    // },\n    // secondary: {\n    //   main: colors.indigo[500]\n    // },\n    text: {\n      primary: colors.blueGrey[900],\n      secondary: colors.blueGrey[600],\n    },\n  },\n  shadows,\n  typography,\n});\n\nexport default theme;\n","export default [\n  'none',\n  '0 0 0 1px rgba(63,63,68,0.05), 0 1px 2px 0 rgba(63,63,68,0.15)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 2px 2px -2px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 4px 8px -2px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 5px 8px -2px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 6px 12px -4px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 7px 12px -4px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 6px 16px -4px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 7px 16px -4px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 8px 18px -8px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 9px 18px -8px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 10px 20px -8px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 11px 20px -8px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 12px 22px -8px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 13px 22px -8px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 14px 24px -8px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 16px 28px -8px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 18px 30px -8px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 20px 32px -8px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 22px 34px -8px rgba(0,0,0,0.25)',\n  '0 0 1px 0 rgba(0,0,0,0.31), 0 24px 36px -8px rgba(0,0,0,0.25)'\n];\n","export default {\n  h1: {\n    fontWeight: 500,\n    fontSize: 35,\n    letterSpacing: '-0.24px'\n  },\n  h2: {\n    fontWeight: 500,\n    fontSize: 29,\n    letterSpacing: '-0.24px'\n  },\n  h3: {\n    fontWeight: 500,\n    fontSize: 24,\n    letterSpacing: '-0.06px'\n  },\n  h4: {\n    fontWeight: 500,\n    fontSize: 20,\n    letterSpacing: '-0.06px'\n  },\n  h5: {\n    fontWeight: 500,\n    fontSize: 16,\n    letterSpacing: '-0.05px'\n  },\n  h6: {\n    fontWeight: 500,\n    fontSize: 14,\n    letterSpacing: '-0.05px'\n  },\n  overline: {\n    fontWeight: 500\n  }\n};\n","import React from 'react';\nimport { NavLink as RouterLink } from 'react-router-dom';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport {\n  Button,\n  ListItem,\n  makeStyles\n} from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  item: {\n    display: 'flex',\n    paddingTop: 0,\n    paddingBottom: 0\n  },\n  button: {\n    color: theme.palette.text.secondary,\n    fontWeight: theme.typography.fontWeightMedium,\n    justifyContent: 'flex-start',\n    letterSpacing: 0,\n    padding: '10px 8px',\n    textTransform: 'none',\n    width: '100%'\n  },\n  icon: {\n    marginRight: theme.spacing(1)\n  },\n  title: {\n    marginRight: 'auto'\n  },\n  active: {\n    color: theme.palette.primary.main,\n    '& $title': {\n      fontWeight: theme.typography.fontWeightMedium\n    },\n    '& $icon': {\n      color: theme.palette.primary.main\n    }\n  }\n}));\n\nconst NavItem = ({\n  className,\n  href,\n  icon: Icon,\n  title,\n  ...rest\n}) => {\n  const classes = useStyles();\n\n  return (\n    <ListItem\n      className={clsx(classes.item, className)}\n      disableGutters\n      {...rest}\n    >\n      <Button\n        activeClassName={classes.active}\n        className={classes.button}\n        component={RouterLink}\n        to={href}\n      >\n        {Icon && (\n          <Icon\n            className={classes.icon}\n            size=\"20\"\n          />\n        )}\n        <span className={classes.title}>\n          {title}\n        </span>\n      </Button>\n    </ListItem>\n  );\n};\n\nNavItem.propTypes = {\n  className: PropTypes.string,\n  href: PropTypes.string,\n  icon: PropTypes.elementType,\n  title: PropTypes.string\n};\n\nexport default NavItem;\n","import React, { useEffect } from \"react\";\nimport { Link as RouterLink, useLocation } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { Avatar, Box, Divider, Drawer, Hidden, List, Typography, makeStyles } from \"@material-ui/core\";\nimport {\n  AlertCircle as AlertCircleIcon,\n  BarChart as BarChartIcon,\n  Lock as LockIcon,\n  Settings as SettingsIcon,\n  ShoppingBag as ShoppingBagIcon,\n  User as UserIcon,\n  UserPlus as UserPlusIcon,\n  Users as UsersIcon,\n} from \"react-feather\";\nimport NavItem from \"./NavItem\";\nimport { useSelector } from \"react-redux\";\n\nconst user = {\n  avatar: \"/static/images/avatars/avatar_6.png\",\n  jobTitle: \"Senior Developer\",\n  name: \"Katarina Smith\",\n};\n\nconst items = [\n  {\n    href: \"/nh/thong-tin-ca-nhan\",\n    icon: UserIcon,\n    title: \"Thông tin cá nhân\",\n  },\n  {\n    href: \"/nh/quan-ly-tai-khoan\",\n    icon: UsersIcon,\n    title: \"Quản lý tài khoản\",\n  },\n  {\n    href: \"/nh/chia-se-bang-cap\",\n    icon: ShoppingBagIcon,\n    title: \"Chia sẻ bằng cấp\",\n  },\n  // {\n  //   href: \"/app/account\",\n  //   icon: UserIcon,\n  //   title: \"Account\",\n  // },\n  // {\n  //   href: \"/app/settings\",\n  //   icon: SettingsIcon,\n  //   title: \"Settings\",\n  // },\n  // {\n  //   href: \"/login\",\n  //   icon: LockIcon,\n  //   title: \"Login\",\n  // },\n  // {\n  //   href: \"/register\",\n  //   icon: UserPlusIcon,\n  //   title: \"Register\",\n  // },\n  // {\n  //   href: \"/404\",\n  //   icon: AlertCircleIcon,\n  //   title: \"Error\",\n  // },\n];\n\nconst useStyles = makeStyles(() => ({\n  mobileDrawer: {\n    width: 256,\n  },\n  desktopDrawer: {\n    width: 256,\n    top: 64,\n    height: \"calc(100% - 64px)\",\n  },\n  avatar: {\n    cursor: \"pointer\",\n    width: 64,\n    height: 64,\n  },\n}));\n\nconst NavBar = ({ onMobileClose, openMobile }) => {\n  const classes = useStyles();\n  const location = useLocation();\n\n  const user = useSelector((state) => state.studentProfileSlice);\n\n  useEffect(() => {\n    if (openMobile && onMobileClose) {\n      onMobileClose();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [location.pathname]);\n\n  const content = (\n    <Box height=\"100%\" display=\"flex\" flexDirection=\"column\">\n      <Box alignItems=\"center\" display=\"flex\" flexDirection=\"column\" p={2}>\n        <Avatar className={classes.avatar} component={RouterLink} src={user.imgSrc} to=\"/nh/thong-tin-ca-nhan\" />\n        <Typography className={classes.name} color=\"textPrimary\" variant=\"h5\">\n          {user.name}\n        </Typography>\n        <Typography color=\"textSecondary\" variant=\"body2\">\n          {user.level || \"Sinh viên Đại học\"}\n        </Typography>\n      </Box>\n      <Divider />\n      <Box p={2}>\n        <List>\n          {items.map((item) => (\n            <NavItem href={item.href} key={item.title} title={item.title} icon={item.icon} />\n          ))}\n        </List>\n      </Box>\n      <Box flexGrow={1} />\n    </Box>\n  );\n\n  return (\n    <>\n      <Hidden lgUp>\n        <Drawer anchor=\"left\" classes={{ paper: classes.mobileDrawer }} onClose={onMobileClose} open={openMobile} variant=\"temporary\">\n          {content}\n        </Drawer>\n      </Hidden>\n      <Hidden mdDown>\n        <Drawer anchor=\"left\" classes={{ paper: classes.desktopDrawer }} open variant=\"persistent\">\n          {content}\n        </Drawer>\n      </Hidden>\n    </>\n  );\n};\n\nNavBar.propTypes = {\n  onMobileClose: PropTypes.func,\n  openMobile: PropTypes.bool,\n};\n\nNavBar.defaultProps = {\n  onMobileClose: () => {},\n  openMobile: false,\n};\n\nexport default NavBar;\n","import React from 'react';\n\nconst Logo = (props) => {\n  return (\n    <img\n      alt=\"Logo\"\n      src=\"/static/logo.svg\"\n      {...props}\n    />\n  );\n};\n\nexport default Logo;\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nexport const studentProfileSlice = createSlice({\r\n  name: \"studentProfileSlice\",\r\n  initialState: { fetching: true },\r\n  reducers: {\r\n    setProfile: (state, action) => {\r\n      Object.assign(state, action.payload);\r\n      state.fetching = false;\r\n    },\r\n    updateImgSrc: (state, action) => {\r\n      state.imgSrc = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setProfile, updateImgSrc } = studentProfileSlice.actions;\r\nexport default studentProfileSlice.reducer;\r\n","const { createSlice } = require(\"@reduxjs/toolkit\");\r\n\r\nconst sawtoothAccountsSlice = createSlice({\r\n  name: \"sawtoothAccountsSlice\",\r\n  initialState: { fetching: true, accounts: [] },\r\n  reducers: {\r\n    setFetchedAccounts: (state, action) => {\r\n      state.fetching = false;\r\n      state.accounts = action.payload;\r\n    },\r\n    addSawtoothAccount: (state, action) => {\r\n      let newAcc = action.payload;\r\n      if (newAcc.privateKeyHex === \"\") {\r\n        newAcc.privateKeyHex = false;\r\n      }\r\n      state.accounts.push(newAcc);\r\n    },\r\n    deleteSawtoothAccount: (state, action) => {\r\n      state.accounts = state.accounts.filter((acc) => acc.publicKeyHex !== action.payload.publicKeyHex);\r\n    },\r\n  },\r\n});\r\n\r\nexport default sawtoothAccountsSlice.reducer;\r\nexport const { setFetchedAccounts, addSawtoothAccount, deleteSawtoothAccount } = sawtoothAccountsSlice.actions;\r\n","const { createSlice } = require(\"@reduxjs/toolkit\");\r\n\r\nconst initState = {\r\n  currentSelectedAccount: null,\r\n  show: \"none\", // none, encrypt, decrypt\r\n  encryptedDataOfAccount: {\r\n    publicKeyHex: \"\",\r\n    certificate: { address: \"\", versions: [{ txid: \"\", timestamp: 1234, active: \"\", cipher: \"\" }] },\r\n    subjects: [{ address: \"\", versions: [{ txid: \"\", timestamp: 1234, active: \"\", cipher: \"\" }] }, {}],\r\n  },\r\n  decryptedDataOfAccount: {\r\n    publicKeyHex: \"\",\r\n    certificate: { address: \"\", versions: [{ txid: \"\", timestamp: 1234, active: \"\", plain: \"\" }] },\r\n    subjects: [{ address: \"\", versions: [{ txid: \"\", timestamp: 1234, active: \"\", plain: \"\" }] }, {}],\r\n  },\r\n};\r\n\r\nconst shareCertificateSlice = createSlice({\r\n  name: \"shareCertificateSlice\",\r\n  initialState: initState,\r\n  reducers: {\r\n    resetState: (state, action) => {\r\n      Object.assign(state, initState);\r\n    },\r\n    updateEncryptedState: (state, action) => {\r\n      state.show = \"encrypt\";\r\n      state.currentSelectedAccount = action.payload.currentSelectedAccount;\r\n      state.encryptedDataOfAccount = action.payload.encryptedDataOfAccount;\r\n    },\r\n    updateDecryptedState: (state, action) => {\r\n      state.show = \"decrypt\";\r\n      state.decryptedDataOfAccount = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport default shareCertificateSlice.reducer;\r\nexport const { updateEncryptedState, resetState, updateDecryptedState } = shareCertificateSlice.actions;\r\n","import { combineReducers, configureStore } from \"@reduxjs/toolkit\";\r\nimport studentProfileReducer from \"./views/StudentProfile/redux\";\r\nimport studentSawtoothAccountReducer from \"./views/AccountManagement/redux\";\r\nimport shareCertificateReducer from \"./views/ShareCertificate/redux\";\r\n\r\nexport const resetStore = () => {\r\n  return {\r\n    type: \"RESET_STORE\",\r\n  };\r\n};\r\n\r\nconst rootReducer = (state, action) => {\r\n  if (action.type === \"RESET_STORE\") {\r\n    state = undefined;\r\n  }\r\n  return appReducer(state, action);\r\n};\r\n\r\nconst appReducer = combineReducers({\r\n  studentProfileSlice: studentProfileReducer,\r\n  sawtoothAccountsSlice: studentSawtoothAccountReducer,\r\n  shareCertificateSlice: shareCertificateReducer,\r\n});\r\n\r\nexport default configureStore({\r\n  reducer: rootReducer,\r\n});\r\n","let remember = true;\r\n\r\nfunction setRemember(_remember) {\r\n  remember = _remember;\r\n}\r\n\r\nfunction getRemember() {\r\n  return remember;\r\n}\r\n\r\nfunction setSessionToken(token) {\r\n  sessionStorage.setItem(\"token\", \"Bearer \" + token);\r\n}\r\n\r\nfunction setLocalToken(token) {\r\n  localStorage.setItem(\"token\", \"Bearer \" + token);\r\n}\r\n\r\nfunction getToken() {\r\n  if (remember) return localStorage.getItem(\"token\");\r\n  else return sessionStorage.getItem(\"token\");\r\n}\r\n\r\nfunction clearToken() {\r\n  if (remember) {\r\n    localStorage.removeItem(\"token\");\r\n  } else {\r\n    sessionStorage.removeItem(\"token\");\r\n  }\r\n}\r\n\r\nexport { setSessionToken, setLocalToken, getToken, clearToken, setRemember, getRemember };\r\n","import { AppBar, Badge, Box, Hidden, IconButton, makeStyles, Toolbar } from \"@material-ui/core\";\nimport InputIcon from \"@material-ui/icons/Input\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport NotificationsIcon from \"@material-ui/icons/NotificationsOutlined\";\nimport clsx from \"clsx\";\nimport PropTypes from \"prop-types\";\nimport React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Link as RouterLink, useNavigate } from \"react-router-dom\";\nimport Logo from \"src/shared/Logo\";\nimport { resetStore } from \"../../store\";\nimport { clearRole } from \"../../utils/mng-role\";\nimport { clearToken } from \"../../utils/mng-token\";\n\nconst useStyles = makeStyles(() => ({\n  root: {},\n  avatar: {\n    width: 60,\n    height: 60,\n  },\n}));\n\nconst TopBar = ({ className, onMobileNavOpen, ...rest }) => {\n  const classes = useStyles();\n  const [notifications] = useState([]);\n  const navigate = useNavigate();\n  const dp = useDispatch();\n  return (\n    <AppBar className={clsx(classes.root, className)} elevation={0} {...rest}>\n      <Toolbar>\n        <RouterLink to=\"/\">\n          <Logo />\n        </RouterLink>\n        <Box flexGrow={1} />\n        <Hidden mdDown>\n          <IconButton color=\"inherit\">\n            <Badge badgeContent={notifications.length} color=\"primary\" variant=\"dot\">\n              <NotificationsIcon />\n            </Badge>\n          </IconButton>\n          <IconButton\n            color=\"inherit\"\n            onClick={(e) => {\n              clearRole();\n              clearToken();\n              dp(resetStore());\n              navigate(\"/\");\n            }}\n          >\n            <InputIcon />\n          </IconButton>\n        </Hidden>\n        <Hidden lgUp>\n          <IconButton color=\"inherit\" onClick={onMobileNavOpen}>\n            <MenuIcon />\n          </IconButton>\n        </Hidden>\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nTopBar.propTypes = {\n  className: PropTypes.string,\n  onMobileNavOpen: PropTypes.func,\n};\n\nexport default TopBar;\n","function setLocalRole(role) {\r\n  localStorage.setItem(\"role\", role);\r\n}\r\n\r\nfunction setSessionRole(role) {\r\n  sessionStorage.setItem(\"role\", role);\r\n}\r\n\r\nfunction getRole() {\r\n  return sessionStorage.getItem(\"role\") || localStorage.getItem(\"role\");\r\n}\r\n\r\nfunction clearRole() {\r\n  sessionStorage.removeItem(\"role\");\r\n  localStorage.removeItem(\"role\");\r\n}\r\n\r\nexport { setLocalRole, setSessionRole, getRole, clearRole };\r\n","import { makeStyles } from \"@material-ui/core\";\r\nimport { Skeleton } from \"@material-ui/lab\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    height: \"100vh\",\r\n    // padding: \"10px\",\r\n    display: \"grid\",\r\n    gridTemplateColumns: \"1fr\",\r\n    gridTemplateRows: \"64px auto\",\r\n    rowGap: \"5px\",\r\n    \"& *\": {\r\n      height: \"100%\",\r\n    },\r\n  },\r\n  main: {\r\n    display: \"grid\",\r\n    gridTemplateColumns: \"256px auto\",\r\n    columnGap: \"5px\",\r\n  },\r\n  sidebar: {\r\n    display: \"grid\",\r\n    gridTemplateColumns: \"1fr\",\r\n    gridTemplateRows: \"128px auto\",\r\n    rowGap: \"5px\",\r\n  },\r\n}));\r\nexport default function Loading(props) {\r\n  const cls = useStyles();\r\n\r\n  return (\r\n    <div className={cls.root}>\r\n      <div className={cls.topbar}>\r\n        <Skeleton variant=\"rect\"></Skeleton>\r\n      </div>\r\n      <div className={cls.main}>\r\n        <div className={cls.sidebar}>\r\n          <div className={cls.info}>\r\n            <Skeleton variant=\"rect\"></Skeleton>\r\n          </div>\r\n          <div className={cls.navlink}>\r\n            <Skeleton variant=\"rect\"></Skeleton>\r\n          </div>\r\n        </div>\r\n        <div className={cls.content}>\r\n          <Skeleton variant=\"rect\"></Skeleton>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\nimport { Outlet } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core\";\nimport NavBar from \"./NavBar\";\nimport TopBar from \"./TopBar\";\nimport { getToken } from \"../../utils/mng-token\";\nimport { setProfile } from \"../../views/StudentProfile/redux\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Loading from \"../../shared/Loading\";\nimport PerfectScrollbar from \"react-perfect-scrollbar\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.dark,\n    display: \"flex\",\n    height: \"100%\",\n    overflow: \"hidden\",\n    width: \"100%\",\n  },\n  wrapper: {\n    display: \"flex\",\n    flex: \"1 1 auto\",\n    overflow: \"hidden\",\n    paddingTop: 64,\n    [theme.breakpoints.up(\"lg\")]: {\n      paddingLeft: 256,\n    },\n  },\n  contentContainer: {\n    display: \"flex\",\n    flex: \"1 1 auto\",\n    overflow: \"hidden\",\n  },\n  content: {\n    flex: \"1 1 auto\",\n    height: \"100%\",\n    overflow: \"auto\",\n  },\n}));\n\nconst DashboardLayout = () => {\n  const classes = useStyles();\n  const [isMobileNavOpen, setMobileNavOpen] = useState(false);\n  const loading = useSelector((state) => state.studentProfileSlice.fetching);\n  const dp = useDispatch();\n\n  useEffect(() => {\n    fetchStudentProfile();\n  }, []);\n\n  async function fetchStudentProfile() {\n    try {\n      const response = await fetch(`${process.env.REACT_APP_SERVER_URL}/student/profile`, {\n        headers: { Authorization: getToken() },\n      });\n      if (!response.ok) {\n        alert(JSON.stringify(await response.json()));\n      } else {\n        dp(setProfile(await response.json()));\n      }\n    } catch (err) {\n      console.log(err);\n      alert(err);\n    }\n  }\n\n  return (\n    <>\n      {loading ? (\n        <Loading />\n      ) : (\n        <>\n          <div className={classes.root}>\n            <TopBar onMobileNavOpen={() => setMobileNavOpen(true)} />\n            <NavBar onMobileClose={() => setMobileNavOpen(false)} openMobile={isMobileNavOpen} />\n            <div className={classes.wrapper}>\n              <div className={classes.contentContainer}>\n                <div className={classes.content}>\n                  <PerfectScrollbar>\n                    <Outlet />\n                  </PerfectScrollbar>\n                </div>\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default DashboardLayout;\n","import React from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport clsx from \"clsx\";\nimport PropTypes from \"prop-types\";\nimport { AppBar, Toolbar, makeStyles } from \"@material-ui/core\";\nimport Logo from \"src/shared/Logo\";\n\nconst useStyles = makeStyles({\n  root: {},\n  toolbar: {\n    height: 64,\n  },\n});\n\nconst TopBar = ({ className, ...rest }) => {\n  const classes = useStyles();\n\n  return (\n    <AppBar className={clsx(classes.root, className)} elevation={0} {...rest}>\n      <Toolbar className={classes.toolbar}>\n        <RouterLink to=\"/\">\n          <Logo />\n        </RouterLink>\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nTopBar.propTypes = {\n  className: PropTypes.string,\n};\n\nexport default TopBar;\n","import React from 'react';\nimport { Outlet } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core';\nimport TopBar from './TopBar';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.default,\n    display: 'flex',\n    height: '100%',\n    overflow: 'hidden',\n    width: '100%'\n  },\n  wrapper: {\n    display: 'flex',\n    flex: '1 1 auto',\n    overflow: 'hidden',\n    paddingTop: 64\n  },\n  contentContainer: {\n    display: 'flex',\n    flex: '1 1 auto',\n    overflow: 'hidden'\n  },\n  content: {\n    flex: '1 1 auto',\n    height: '100%',\n    overflow: 'auto'\n  }\n}));\n\nconst MainLayout = () => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <TopBar />\n      <div className={classes.wrapper}>\n        <div className={classes.contentContainer}>\n          <div className={classes.content}>\n            <Outlet />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MainLayout;\n","import React, { forwardRef } from 'react';\nimport { Helmet } from 'react-helmet';\nimport PropTypes from 'prop-types';\n\nconst Page = forwardRef(({\n  children,\n  title = '',\n  ...rest\n}, ref) => {\n  return (\n    <div\n      ref={ref}\n      {...rest}\n    >\n      <Helmet>\n        <title>{title}</title>\n      </Helmet>\n      {children}\n    </div>\n  );\n});\n\nPage.propTypes = {\n  children: PropTypes.node.isRequired,\n  title: PropTypes.string\n};\n\nexport default Page;\n","import React from \"react\";\nimport { Box, Container, Typography, makeStyles } from \"@material-ui/core\";\nimport Page from \"src/shared/Page\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.dark,\n    height: \"100%\",\n    paddingBottom: theme.spacing(3),\n    paddingTop: theme.spacing(3),\n  },\n  image: {\n    marginTop: 50,\n    display: \"inline-block\",\n    maxWidth: \"100%\",\n    width: 560,\n  },\n}));\n\nconst NotFoundView = () => {\n  const classes = useStyles();\n\n  return (\n    <Page className={classes.root} title=\"404\">\n      <Box display=\"flex\" flexDirection=\"column\" height=\"100%\" justifyContent=\"center\">\n        <Container maxWidth=\"md\">\n          <Typography align=\"center\" color=\"textPrimary\" variant=\"h1\">\n            404: The page you are looking for isn’t here\n          </Typography>\n          <Typography align=\"center\" color=\"textPrimary\" variant=\"subtitle2\">\n            You either tried some shady route or you came here by mistake. Whichever it is, try using the navigation\n          </Typography>\n          <Box textAlign=\"center\">{/* <img alt=\"Under development\" className={classes.image} src=\"/static/images/undraw_page_not_found_su7k.svg\" /> */}</Box>\n        </Container>\n      </Box>\n    </Page>\n  );\n};\n\nexport default NotFoundView;\n","import Avatar from \"@material-ui/core/Avatar\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport { Alert } from \"@material-ui/lab\";\r\nimport React, { useState } from \"react\";\r\nimport { Link as RouterLink, Navigate, useNavigate } from \"react-router-dom\";\r\nimport { setLocalRole } from \"src/utils/mng-role\";\r\nimport { setLocalToken } from \"src/utils/mng-token\";\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {\"Copyright © \"}\r\n      <Link component={RouterLink} to=\"/\">\r\n        B4E Website\r\n      </Link>{\" \"}\r\n      {new Date().getFullYear()}\r\n      {\".\"}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  alert: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function SignUp() {\r\n  const classes = useStyles();\r\n\r\n  const [state, setState] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    repassword: \"\",\r\n  });\r\n\r\n  const [errors, setErrors] = useState({});\r\n  const [success, setSuccess] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  async function hdSubmit(e) {\r\n    e.preventDefault();\r\n    let response = await fetch(`${process.env.REACT_APP_SERVER_URL}/acc/signup`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(state),\r\n    });\r\n    if (!response.ok) {\r\n      const errors = await response.json();\r\n      setErrors(errors);\r\n    } else {\r\n      const result = await response.json();\r\n      setLocalToken(result.token);\r\n      setErrors(null);\r\n      setSuccess(\"Đăng kí tài khoản thành công!\");\r\n      setTimeout(() => navigate(\"/nh/thong-tin-ca-nhan\"), 1000);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h3\">\r\n          Đăng kí tài khoản Người học\r\n        </Typography>\r\n        <div>\r\n          {success ? (\r\n            <Alert className={classes.alert} severity=\"success\">\r\n              {success}\r\n            </Alert>\r\n          ) : null}\r\n        </div>\r\n        <form className={classes.form} noValidate>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Email\"\r\n                value={state.email}\r\n                onChange={(e) => {\r\n                  setState({ ...state, email: e.target.value });\r\n                  setErrors(null);\r\n                }}\r\n                error={errors?.email}\r\n                helperText={errors?.email}\r\n                disabled={Boolean(success)}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                label=\"Mật khẩu\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                value={state.password}\r\n                onChange={(e) => {\r\n                  setState({ ...state, password: e.target.value });\r\n                  setErrors(null);\r\n                }}\r\n                error={errors?.password}\r\n                helperText={errors?.password}\r\n                disabled={Boolean(success)}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                label=\"Nhập lại mật khẩu\"\r\n                type=\"password\"\r\n                id=\"rePassword\"\r\n                value={state.repassword}\r\n                onChange={(e) => {\r\n                  setState({ ...state, repassword: e.target.value });\r\n                  setErrors(null);\r\n                }}\r\n                error={errors?.repassword}\r\n                helperText={errors?.repassword}\r\n                disabled={Boolean(success)}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n          <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit} onClick={hdSubmit}>\r\n            Đăng kí\r\n          </Button>\r\n          <Grid container justify=\"flex-end\">\r\n            <Grid item>\r\n              <Link component={RouterLink} to=\"/dang-nhap\">\r\n                Bạn đã có tài khoản rồi? Đăng nhập\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n      <Box mt={5}>\r\n        <Copyright />\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n","import Avatar from \"@material-ui/core/Avatar\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport React, { useState } from \"react\";\r\nimport { Link as RouterLink, Navigate, useNavigate } from \"react-router-dom\";\r\nimport { setLocalRole, setSessionRole } from \"src/utils/mng-role\";\r\nimport { setLocalToken, setRemember, setSessionToken } from \"src/utils/mng-token\";\r\n// import { getRedirect } from \"src/utils/role-redirect\";\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {\"Copyright © \"}\r\n      <Link component={RouterLink} to=\"/\">\r\n        B4E Website\r\n      </Link>{\" \"}\r\n      {new Date().getFullYear()}\r\n      {\".\"}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  alert: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  link: {\r\n    color: theme.palette.primary.main,\r\n  },\r\n}));\r\n\r\nexport default function SignIn() {\r\n  const classes = useStyles();\r\n  const [state, setState] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    remember: true,\r\n  });\r\n  const [errors, setErrors] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  async function hdSubmit(e) {\r\n    e.preventDefault();\r\n    let response = await fetch(`${process.env.REACT_APP_SERVER_URL}/acc/signin`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ email: state.email, password: state.password }),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errs = await response.json();\r\n      setErrors(errs);\r\n    } else {\r\n      const body = await response.json();\r\n      if (state.remember) {\r\n        setLocalToken(body.token);\r\n        setRemember(true);\r\n      } else {\r\n        setSessionToken(body.token);\r\n        setRemember(false);\r\n      }\r\n      navigate(\"/nh/thong-tin-ca-nhan\");\r\n    }\r\n  }\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h3\">\r\n          Đăng nhập tài khoản Người học\r\n        </Typography>\r\n        <form className={classes.form} noValidate>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"email\"\r\n            label=\"Email\"\r\n            name=\"email\"\r\n            autoComplete=\"email\"\r\n            autoFocus\r\n            value={state.email}\r\n            onChange={(e) => {\r\n              setState({ ...state, email: e.target.value });\r\n              setErrors({ ...errors, email: null });\r\n            }}\r\n            error={errors?.email}\r\n            helperText={errors?.email}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Mật khẩu\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            autoComplete=\"password\"\r\n            value={state.password}\r\n            onChange={(e) => {\r\n              setState({ ...state, password: e.target.value });\r\n              setErrors({ ...errors, password: null });\r\n            }}\r\n            error={errors?.password}\r\n            helperText={errors?.password}\r\n          />\r\n          <FormControlLabel\r\n            control={<Checkbox checked={state.remember} onChange={(e) => setState({ ...state, remember: !state.remember })} color=\"primary\" />}\r\n            label=\"Nhớ đăng nhập\"\r\n          />\r\n          <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit} onClick={hdSubmit}>\r\n            Đăng nhập\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item xs>\r\n              <Link componet={RouterLink} to=\"#\" variant=\"body2\">\r\n                Quên mật khẩu?\r\n              </Link>\r\n            </Grid>\r\n            <Grid item>\r\n              <Link component={RouterLink} to=\"/dang-ki\">\r\n                {\"Chưa có tài khoản? Đăng kí\"}\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n      <Box mt={8}>\r\n        <Copyright />\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n","import { Box, Container } from \"@material-ui/core\";\r\nimport Page from \"./Page\";\r\n\r\nexport default function View({ children, title }) {\r\n  return (\r\n    <div>\r\n      <Page title={title}>\r\n        <Container>\r\n          <Box py={3}>{children}</Box>\r\n        </Container>\r\n      </Page>\r\n    </div>\r\n  );\r\n}\r\n","import DateFnsUtils from \"@date-io/date-fns\";\r\nimport { Box, Button, FormControl, Grid, InputLabel, makeStyles, MenuItem, Paper, Select, TextField, Typography } from \"@material-ui/core\";\r\nimport { KeyboardDatePicker, MuiPickersUtilsProvider } from \"@material-ui/pickers\";\r\nimport \"date-fns\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getToken } from \"src/utils/mng-token\";\r\nimport { setProfile } from \"./redux\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {},\r\n  head: {\r\n    width: \"95%\",\r\n    margin: \"auto\",\r\n    padding: theme.spacing(2.5, 2),\r\n    backgroundColor: theme.palette.primary.main,\r\n    color: \"white\",\r\n    position: \"relative\", // this bring head foreground\r\n  },\r\n  body: { width: \"100%\", marginTop: \"-32px\" },\r\n  box: {\r\n    padding: theme.spacing(8, 3, 3, 3),\r\n    \"& > *\": {\r\n      marginBottom: theme.spacing(3),\r\n      \"&:last-child\": {\r\n        marginBottom: 0,\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function ProfileForm() {\r\n  const cls = useStyles();\r\n  const studentProfile = useSelector((state) => state.studentProfileSlice);\r\n  const [state, setState] = useState(studentProfile);\r\n  const [lastUpdatedState, setCheckPointState] = useState(state);\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const dp = useDispatch();\r\n\r\n  async function hdSubmit(e) {\r\n    try {\r\n      e.preventDefault();\r\n      if (lastUpdatedState === state) {\r\n        enqueueSnackbar(\"Nothing changed\", { variant: \"info\", anchorOrigin: { vertical: \"bottom\", horizontal: \"center\" } });\r\n        return;\r\n      }\r\n\r\n      let response = await fetch(`${process.env.REACT_APP_SERVER_URL}/student/profile`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\", Authorization: getToken() },\r\n        // delete fetching field before send data to backend to avoid fail validate, delete imgSrc to avoid request too large error.\r\n        body: JSON.stringify({ ...state, fetching: undefined, imgSrc: undefined }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const error = await response.json();\r\n        enqueueSnackbar(\"Something went wrong: \" + JSON.stringify(error), { variant: \"error\", anchorOrigin: { vertical: \"top\", horizontal: \"center\" } });\r\n      } else {\r\n        setCheckPointState(state);\r\n        dp(setProfile({ ...state, imgSrc: studentProfile.imgSrc }));\r\n        enqueueSnackbar(\"Cập nhật Profile thành công!\", { variant: \"success\", anchorOrigin: { vertical: \"bottom\", horizontal: \"center\" } });\r\n      }\r\n    } catch (error) {\r\n      alert(error);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Box className={cls.root}>\r\n      <Paper className={cls.head}>\r\n        <Typography variant=\"h3\">Thông tin cá nhân</Typography>\r\n        <Typography variant=\"subtitle1\">Chỉnh sửa lại thông tin cá nhân (nếu cần)</Typography>\r\n      </Paper>\r\n      <Box className={cls.body}>\r\n        <Paper>\r\n          <Box className={cls.box}>\r\n            {/* row 1 */}\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={4}>\r\n                <TextField\r\n                  InputLabelProps={{ shrink: true }}\r\n                  id=\"name\"\r\n                  label=\"Họ và tên\"\r\n                  fullWidth\r\n                  // margin=\"normal\"\r\n                  value={state?.name}\r\n                  onChange={(e) => setState({ ...state, name: e.target.value })}\r\n                ></TextField>\r\n              </Grid>\r\n              <Grid item xs={4}>\r\n                <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                  <KeyboardDatePicker\r\n                    // margin=\"normal\"\r\n                    id=\"birthday\"\r\n                    label=\"Ngày sinh\"\r\n                    views={[\"year\", \"month\", \"date\"]}\r\n                    openTo=\"year\"\r\n                    disableFuture\r\n                    autoOk\r\n                    format=\"dd/MM/yyyy\"\r\n                    value={state?.birthDay}\r\n                    onChange={(selectedDate) => setState({ ...state, birthDay: selectedDate })}\r\n                    KeyboardButtonProps={{\r\n                      \"aria-label\": \"change date\",\r\n                    }}\r\n                  />\r\n                </MuiPickersUtilsProvider>\r\n              </Grid>\r\n              <Grid item xs={4}>\r\n                {/* <FormControl fullWidth margin=\"normal\"> */}\r\n                <FormControl fullWidth>\r\n                  <InputLabel id=\"genderlabel\" shrink>\r\n                    Giới tính\r\n                  </InputLabel>\r\n                  <Select id=\"gender\" labelId=\"genderlabel\" value={state?.gender} onChange={(e) => setState({ ...state, gender: e.target.value })}>\r\n                    <MenuItem value={1}>Nam</MenuItem>\r\n                    <MenuItem value={2}>Nữ</MenuItem>\r\n                    <MenuItem value={3}>Khác</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </Grid>\r\n            </Grid>\r\n\r\n            {/* row 2 */}\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={4}>\r\n                <TextField\r\n                  InputLabelProps={{ shrink: true }}\r\n                  fullWidth\r\n                  margin=\"normal\"\r\n                  label=\"CMT/CCCD\"\r\n                  value={state?.cmt}\r\n                  onChange={(e) => setState({ ...state, cmt: e.target.value })}\r\n                ></TextField>\r\n              </Grid>\r\n              <Grid item xs={4}>\r\n                <TextField\r\n                  InputLabelProps={{ shrink: true }}\r\n                  fullWidth\r\n                  margin=\"normal\"\r\n                  label=\"Email\"\r\n                  value={state?.email}\r\n                  onChange={(e) => setState({ ...state, email: e.target.value })}\r\n                ></TextField>\r\n              </Grid>\r\n              <Grid item xs={4}>\r\n                <TextField\r\n                  InputLabelProps={{ shrink: true }}\r\n                  fullWidth\r\n                  margin=\"normal\"\r\n                  label=\"Số điện thoại\"\r\n                  value={state?.phone}\r\n                  onChange={(e) => setState({ ...state, phone: e.target.value })}\r\n                ></TextField>\r\n              </Grid>\r\n            </Grid>\r\n\r\n            {/* row 3 */}\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={6}>\r\n                <TextField\r\n                  InputLabelProps={{ shrink: true }}\r\n                  fullWidth\r\n                  margin=\"normal\"\r\n                  xs={12}\r\n                  label=\"Quê quán\"\r\n                  value={state?.hometown}\r\n                  onChange={(e) => setState({ ...state, hometown: e.target.value })}\r\n                ></TextField>\r\n              </Grid>\r\n              <Grid item xs={6}>\r\n                <TextField\r\n                  InputLabelProps={{ shrink: true }}\r\n                  fullWidth\r\n                  margin=\"normal\"\r\n                  xs={12}\r\n                  label=\"Nơi ở hiện tại\"\r\n                  value={state?.address}\r\n                  onChange={(e) => setState({ ...state, address: e.target.value })}\r\n                ></TextField>\r\n              </Grid>\r\n            </Grid>\r\n\r\n            {/* row 4 */}\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  InputLabelProps={{ shrink: true }}\r\n                  fullWidth\r\n                  margin=\"normal\"\r\n                  xs={12}\r\n                  label=\"Mô tả bản thân\"\r\n                  multiline\r\n                  rows={4}\r\n                  value={state?.description}\r\n                  onChange={(e) => setState({ ...state, description: e.target.value })}\r\n                ></TextField>\r\n              </Grid>\r\n            </Grid>\r\n            <Box textAlign=\"right\">\r\n              <Button color=\"primary\" variant=\"contained\" onClick={hdSubmit}>\r\n                Cập nhật thông tin\r\n              </Button>\r\n            </Box>\r\n          </Box>\r\n        </Paper>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n","import { Avatar, Box, Paper, Typography } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getToken } from \"src/utils/mng-token\";\r\nimport { updateImgSrc } from \"./redux\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {},\r\n  avatar: {\r\n    height: \"128px\",\r\n    width: \"128px\",\r\n    margin: \"auto\",\r\n    position: \"relative\",\r\n  },\r\n  paper: {\r\n    marginTop: \"-64px\",\r\n    width: \"100%\",\r\n  },\r\n  name: {\r\n    fontWeight: 600,\r\n  },\r\n  description: {\r\n    fontWeight: 300,\r\n    lineHeight: \"1.5rem\",\r\n  },\r\n}));\r\n\r\nexport default function AvatarBar() {\r\n  const cls = useStyles();\r\n  const studentName = useSelector((state) => state.studentProfileSlice.name);\r\n  const avatarSrc = useSelector((state) => state.studentProfileSlice.imgSrc);\r\n  const description = useSelector((state) => state.studentProfileSlice.description);\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const dp = useDispatch();\r\n\r\n  async function hdChangeAvatar(e) {\r\n    const formData = new FormData();\r\n    formData.append(\"avatar\", e.target.files[0]);\r\n    const res = await fetch(`${process.env.REACT_APP_SERVER_URL}/student/change-avatar`, {\r\n      method: \"POST\",\r\n      headers: { Authorization: getToken() },\r\n      body: formData,\r\n    });\r\n\r\n    if (!res.ok) {\r\n      const err = await res.json();\r\n      enqueueSnackbar(\"Something went wrong: \" + JSON.stringify(err), { variant: \"error\", anchorOrigin: { vertical: \"top\", horizontal: \"center\" } });\r\n    } else {\r\n      const imgSrc = await res.json();\r\n      dp(updateImgSrc(imgSrc));\r\n      enqueueSnackbar(\"Cập nhật Avatar thành công!\", { variant: \"success\", anchorOrigin: { vertical: \"bottom\", horizontal: \"right\" } });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Box className={cls.root}>\r\n      <label htmlFor=\"avatar\">\r\n        <input type=\"file\" accept=\"image/*\" id=\"avatar\" style={{ display: \"none\" }} onChange={hdChangeAvatar} />\r\n        <Avatar src={avatarSrc} className={cls.avatar}></Avatar>\r\n      </label>\r\n      <Paper className={cls.paper}>\r\n        <Box textAlign=\"center\" px={3} pb={3} pt={\"96px\"}>\r\n          <Typography variant=\"h5\" gutterBottom>\r\n            Sinh viên Đại học\r\n          </Typography>\r\n          <Typography variant=\"h3\" gutterBottom className={cls.name}>\r\n            {studentName || \"Nguyen Van A\"}\r\n          </Typography>\r\n          <Typography variant=\"body2\" className={cls.description}>\r\n            {description ||\r\n              \"Quisque laoreet, sem a cursus blandit, lectus libero vestibulum purus, id malesuada risus sem id nulla. Curabitur suscipit, dolor at imperdiet dapibus, arcu massa semper enim, vitae consectetur nulla leo blandit nisi. Duis aliquam non turpis sit amet pellentesque. Sed arcu neque, sollicitudin vel ultricies\"}\r\n          </Typography>\r\n        </Box>\r\n      </Paper>\r\n    </Box>\r\n  );\r\n}\r\n","import { Grid } from \"@material-ui/core\";\r\nimport View from \"../../shared/View\";\r\nimport ProfileForm from \"./ProfileForm\";\r\nimport AvatarBar from \"./AvatarBar\";\r\n\r\nexport default function StudentProfile() {\r\n  return (\r\n    <div>\r\n      <View title=\"Thông tin cá nhân\">\r\n        <Grid container spacing={4}>\r\n          <Grid item xs={12} md={8}>\r\n            <ProfileForm></ProfileForm>\r\n          </Grid>\r\n          <Grid item xs={12} md={4}>\r\n            <AvatarBar></AvatarBar>\r\n          </Grid>\r\n        </Grid>\r\n      </View>\r\n    </div>\r\n  );\r\n}\r\n","import Loading from \"./shared/Loading\";\r\n\r\nexport default function Test(props) {\r\n  return <div>{/* <Loading></Loading> */}</div>;\r\n}\r\n","import { Box, Divider, IconButton, makeStyles, Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Typography } from \"@material-ui/core\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport { getToken } from \"../../utils/mng-token\";\r\nimport { deleteSawtoothAccount } from \"./redux\";\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {},\r\n  head: {\r\n    padding: theme.spacing(2),\r\n    backgroundColor: theme.palette.primary.main,\r\n    color: \"white\",\r\n  },\r\n}));\r\n\r\nexport default function AccountTable(props) {\r\n  const cls = useStyles();\r\n  const sawtoothAccounts = useSelector((state) => state.sawtoothAccountsSlice.accounts);\r\n  const dp = useDispatch();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  async function hdDelete(publicKeyHex) {\r\n    let response = await fetch(`${process.env.REACT_APP_SERVER_URL}/student/sawtooth-accounts`, {\r\n      method: \"DELETE\",\r\n      headers: { \"Content-Type\": \"application/json\", Authorization: getToken() },\r\n      body: JSON.stringify({ publicKeyHex }),\r\n    });\r\n    const result = response.json();\r\n    if (!response.ok) {\r\n      enqueueSnackbar(\"Something went wrong: \" + JSON.stringify(result), { variant: \"error\", anchorOrigin: { vertical: \"top\", horizontal: \"center\" } });\r\n    } else {\r\n      dp(deleteSawtoothAccount({ publicKeyHex }));\r\n      enqueueSnackbar(\"Xóa tài khoản thành công!\", { variant: \"success\", anchorOrigin: { vertical: \"bottom\", horizontal: \"center\" } });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Paper>\r\n      <Typography variant=\"h3\" className={cls.head}>\r\n        Danh sách các tài khoản\r\n      </Typography>\r\n      <Divider></Divider>\r\n      <Box pt={1}>\r\n        <TableContainer>\r\n          <Table size=\"small\">\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell>#</TableCell>\r\n                <TableCell>Public key</TableCell>\r\n                <TableCell>Private key</TableCell>\r\n                <TableCell>Ghi chú</TableCell>\r\n                <TableCell align=\"center\">Xóa</TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {sawtoothAccounts.map((acc, index) => {\r\n                const shortPublicKeyHex = acc.publicKeyHex.slice(0, 30) + \"...\" + acc.publicKeyHex.slice(-30);\r\n                return (\r\n                  <TableRow key={index}>\r\n                    <TableCell>{index + 1}</TableCell>\r\n                    <TableCell>{shortPublicKeyHex}</TableCell>\r\n                    <TableCell>{acc.privateKeyHex ? \"*\".repeat(acc.privateKeyHex.length) : \"Không lưu\"}</TableCell>\r\n                    <TableCell>{acc.note}</TableCell>\r\n                    <TableCell align=\"center\">\r\n                      <IconButton onClick={(e) => hdDelete(acc.publicKeyHex)}>\r\n                        <DeleteIcon></DeleteIcon>\r\n                      </IconButton>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                );\r\n              })}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n      </Box>\r\n    </Paper>\r\n  );\r\n}\r\n","import { Box, Button, Grid, makeStyles, Paper, TextField, Typography } from \"@material-ui/core\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { getToken } from \"../../utils/mng-token\";\r\nimport { addSawtoothAccount } from \"./redux\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {},\r\n  head: { padding: theme.spacing(2), backgroundColor: theme.palette.primary.main, color: \"white\" },\r\n  subtitle: {\r\n    marginBottom: theme.spacing(3),\r\n    // fontWeight: 400,\r\n  },\r\n}));\r\n\r\nexport default function AddAccount(props) {\r\n  const cls = useStyles();\r\n  const [formState, setFormState] = useState({\r\n    publicKeyHex: \"\",\r\n    privateKeyHex: \"\",\r\n    note: \"\",\r\n  });\r\n\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const dp = useDispatch();\r\n\r\n  async function hdAddAccount(e) {\r\n    try {\r\n      e.preventDefault();\r\n      if (formState.publicKeyHex === \"\") {\r\n        enqueueSnackbar(\"Public key is require!\", { variant: \"error\", anchorOrigin: { vertical: \"top\", horizontal: \"center\" } });\r\n        return;\r\n      }\r\n      // TODO: validate publicKeyHex, privateKeyHex(if exists)\r\n\r\n      let response = await fetch(`${process.env.REACT_APP_SERVER_URL}/student/sawtooth-accounts`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\", Authorization: getToken() },\r\n        body: JSON.stringify(formState),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const error = await response.json();\r\n        enqueueSnackbar(\"Something went wrong: \" + JSON.stringify(error), { variant: \"error\", anchorOrigin: { vertical: \"top\", horizontal: \"center\" } });\r\n      } else {\r\n        dp(addSawtoothAccount(formState));\r\n        setFormState({\r\n          publicKeyHex: \"\",\r\n          privateKeyHex: \"\",\r\n          note: \"\",\r\n        });\r\n        enqueueSnackbar(\"Thêm tài khoản thành công!\", { variant: \"success\", anchorOrigin: { vertical: \"bottom\", horizontal: \"center\" } });\r\n      }\r\n    } catch (error) {\r\n      alert(error);\r\n    }\r\n  }\r\n  return (\r\n    <Paper>\r\n      <Typography variant=\"h3\" className={cls.head}>\r\n        Thêm tài khoản\r\n      </Typography>\r\n\r\n      <Box px={2} py={3}>\r\n        <Typography variant=\"h5\" className={cls.subtitle}>\r\n          Thêm tài khoản bằng public/private key\r\n        </Typography>\r\n        <Grid container spacing={4} alignItems=\"flex-end\">\r\n          <Grid item xs={12} md={4}>\r\n            <TextField\r\n              label=\"Public key\"\r\n              InputLabelProps={{ shrink: true }}\r\n              fullWidth\r\n              value={formState.publicKeyHex}\r\n              onChange={(e) => setFormState({ ...formState, publicKeyHex: e.target.value })}\r\n            ></TextField>\r\n          </Grid>\r\n          <Grid item xs={12} md={4}>\r\n            <TextField\r\n              label=\"Private key (optional)\"\r\n              InputLabelProps={{ shrink: true }}\r\n              InputProps={{ type: \"password\" }}\r\n              fullWidth\r\n              value={formState.privateKeyHex}\r\n              onChange={(e) => setFormState({ ...formState, privateKeyHex: e.target.value })}\r\n            ></TextField>\r\n          </Grid>\r\n          <Grid item xs={12} md={2}>\r\n            <TextField\r\n              label=\"Ghi chú\"\r\n              InputLabelProps={{ shrink: true }}\r\n              fullWidth\r\n              value={formState.note}\r\n              onChange={(e) => setFormState({ ...formState, note: e.target.value })}\r\n            ></TextField>\r\n          </Grid>\r\n          <Grid item xs={12} md={2}>\r\n            <Box textAlign=\"right\">\r\n              <Button variant=\"contained\" color=\"primary\" onClick={hdAddAccount}>\r\n                Thêm tài khoản\r\n              </Button>\r\n            </Box>\r\n          </Grid>\r\n        </Grid>\r\n      </Box>\r\n\r\n      {/* <Box my={2} p={2} display=\"flex\" justifyContent=\"space-between\">\r\n        <Typography variant=\"h5\">Hoặc sử dụng ví B4E Wallet để chọn tài khoản muốn thêm</Typography>\r\n        <Button variant=\"contained\" color=\"primary\">\r\n          Sử dụng ví\r\n        </Button>\r\n      </Box> */}\r\n    </Paper>\r\n  );\r\n}\r\n","import { Box } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport View from \"../../shared/View\";\r\nimport { getToken } from \"../../utils/mng-token\";\r\nimport AccountTable from \"./AccountTable\";\r\nimport AddAccount from \"./AddAccount\";\r\nimport { setFetchedAccounts } from \"./redux\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \"& > * \": {\r\n      marginBottom: theme.spacing(4),\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function AccountManagement() {\r\n  const cls = useStyles();\r\n  const loading = useSelector((state) => state.sawtoothAccountsSlice.fetching);\r\n  const dp = useDispatch();\r\n\r\n  useEffect(() => {\r\n    fetchSawtoothAccounts();\r\n  }, []);\r\n\r\n  async function fetchSawtoothAccounts() {\r\n    try {\r\n      const response = await fetch(`${process.env.REACT_APP_SERVER_URL}/student/sawtooth-accounts`, {\r\n        headers: { Authorization: getToken() },\r\n      });\r\n      if (!response.ok) {\r\n        alert(JSON.stringify(await response.json()));\r\n      } else {\r\n        const sawtoothAccounts = await response.json();\r\n        dp(setFetchedAccounts(sawtoothAccounts));\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n      alert(err);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <View title=\"Quản lý tài khoản\">\r\n      {loading ? null : (\r\n        <Box className={cls.root}>\r\n          <AccountTable></AccountTable>\r\n          <AddAccount></AddAccount>\r\n        </Box>\r\n      )}\r\n    </View>\r\n  );\r\n}\r\n","import { Box, Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, makeStyles, Paper } from \"@material-ui/core\";\r\nimport { Alert, AlertTitle } from \"@material-ui/lab\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { getToken } from \"../../utils/mng-token\";\r\nimport FileSaver from \"file-saver\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    padding: theme.spacing(2),\r\n    \"& .MuiTypography-gutterBottom\": {\r\n      marginBottom: 0,\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function AlertDecryptResultBar(props) {\r\n  const cls = useStyles();\r\n  const decryptedData = useSelector((state) => state.shareCertificateSlice.decryptedDataOfAccount);\r\n  const [token, setToken] = useState(null);\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  async function hdClick() {\r\n    if (!decryptedData.certificate.versions[0].active) {\r\n      enqueueSnackbar(\"Không thể chia sẻ bằng cấp đã bị thu hồi!\", { variant: \"error\", anchorOrigin: { vertical: \"top\", horizontal: \"center\" } });\r\n      return;\r\n    }\r\n    const response = await fetch(`${process.env.REACT_APP_SERVER_URL}/student/gen-token`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\", Authorization: getToken() },\r\n      body: JSON.stringify(decryptedData),\r\n    });\r\n    const result = await response.json();\r\n    if (!response.ok) {\r\n      enqueueSnackbar(\"Something went wrong: \" + JSON.stringify(result), { variant: \"error\", anchorOrigin: { vertical: \"top\", horizontal: \"center\" } });\r\n    } else {\r\n      setToken(result.token);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Paper className={cls.root}>\r\n      <Box display=\"flex\" alignItems=\"center\">\r\n        <Box flexGrow={1}>\r\n          <Alert severity=\"success\">\r\n            <AlertTitle>Giải mã dữ liệu bản mã thành công!</AlertTitle>\r\n          </Alert>\r\n        </Box>\r\n        {decryptedData.certificate && (\r\n          <Box pl={2} flexShrink={0}>\r\n            <Button variant=\"contained\" color=\"primary\" onClick={hdClick}>\r\n              Chia sẻ\r\n            </Button>\r\n          </Box>\r\n        )}\r\n      </Box>\r\n      <TokenDialog token={token} setToken={setToken}></TokenDialog>\r\n    </Paper>\r\n  );\r\n}\r\n\r\nfunction TokenDialog({ token, setToken }) {\r\n  return (\r\n    <Dialog open={Boolean(token)} onClose={(e) => setToken(null)}>\r\n      <DialogTitle>Token</DialogTitle>\r\n      <DialogContent>\r\n        <DialogContentText style={{ wordWrap: \"break-word\" }}>{token} </DialogContentText>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button\r\n          color=\"primary\"\r\n          onClick={(e) => {\r\n            navigator.clipboard.writeText(token);\r\n            setToken(null);\r\n          }}\r\n        >\r\n          Copy\r\n        </Button>\r\n        <Button\r\n          color=\"primary\"\r\n          onClick={(e) => {\r\n            var blob = new Blob([token], { type: \"text/plain;charset=utf-8\" });\r\n            FileSaver.saveAs(blob, \"B4E-Certificate-Token.jwt\");\r\n            setToken(null);\r\n          }}\r\n        >\r\n          Download\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n","import { Box, Button, makeStyles, Paper } from \"@material-ui/core\";\r\nimport { Alert, AlertTitle } from \"@material-ui/lab\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getToken } from \"../../utils/mng-token\";\r\nimport { updateDecryptedState } from \"./redux\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    padding: theme.spacing(2),\r\n    \"& .MuiTypography-gutterBottom\": {\r\n      marginBottom: 0,\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function AlertFetchResultBar(props) {\r\n  const cls = useStyles();\r\n  const selectedAccount = useSelector((state) => state.shareCertificateSlice.currentSelectedAccount);\r\n  const encryptData = useSelector((state) => state.shareCertificateSlice.encryptedDataOfAccount);\r\n  const dp = useDispatch();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  async function hdClick() {\r\n    let privateKeyHex = selectedAccount.privateKey;\r\n    if (!privateKeyHex) {\r\n      enqueueSnackbar(\"Hãy mở ví và chọn tài khoản!\", { variant: \"info\", anchorOrigin: { vertical: \"top\", horizontal: \"center\" } });\r\n      const result = await askPrivateKeyFromWallet();\r\n      if (!result.ok) {\r\n        enqueueSnackbar(\"Bạn cần cung cấp private key để có thể giải mã!\", { variant: \"error\", anchorOrigin: { vertical: \"top\", horizontal: \"center\" } });\r\n        return;\r\n      } else {\r\n        // enqueueSnackbar(\"Đã nhận được private key từ ví!\", { variant: \"success\", anchorOrigin: { vertical: \"top\", horizontal: \"center\" } });\r\n        privateKeyHex = result.privateKeyHex;\r\n      }\r\n    }\r\n    const response = await fetch(`${process.env.REACT_APP_SERVER_URL}/student/decrypt-data`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\", Authorization: getToken() },\r\n      body: JSON.stringify({ encryptData, privateKeyHex }),\r\n    });\r\n    const result = await response.json();\r\n    if (!response.ok) {\r\n      console.log(result);\r\n    } else {\r\n      dp(updateDecryptedState(result));\r\n    }\r\n  }\r\n\r\n  async function askPrivateKeyFromWallet() {\r\n    return new Promise((resolve, reject) => {\r\n      window.postMessage({ type: \"SIGN_REQUEST\" }, window.origin);\r\n      window.addEventListener(\"message\", function (event) {\r\n        if (event.data.type === \"SIGN_RESPONSE\" && event.origin === window.origin) {\r\n          if (event.data.accept) {\r\n            return resolve({ ok: true, privateKeyHex: event.data.account.privateKey });\r\n          } else {\r\n            return resolve({ ok: false });\r\n          }\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Paper className={cls.root}>\r\n      <Box display=\"flex\" alignItems=\"center\">\r\n        <Box flexGrow={1}>\r\n          <Alert severity=\"success\">\r\n            <AlertTitle>Lấy dữ liệu bản mã thành công!</AlertTitle>\r\n          </Alert>\r\n        </Box>\r\n        <Box pl={2} flexShrink={0}>\r\n          <Button variant=\"contained\" color=\"primary\" onClick={hdClick}>\r\n            Giải mã\r\n          </Button>\r\n        </Box>\r\n      </Box>\r\n    </Paper>\r\n  );\r\n}\r\n","import { Link } from \"@material-ui/core\";\n\nfunction getHost() {\n  const url = process.env.REACT_APP_SERVER_URL;\n  const parts = url.split(\":\");\n  parts.pop();\n  const host = parts.join(\":\");\n  //  console.log(host);\n  return host;\n}\n\nfunction getLinkFromTxid(txid) {\n  return (\n    <Link\n      target=\"_blank\"\n      href={`${process.env.REACT_APP_EXPLORER_URL}/#/transactions/${txid}`}\n    >\n      {txid.slice(0, 30)}...\n    </Link>\n  );\n}\n\nexport { getHost, getLinkFromTxid };\n","import {\r\n  Box,\r\n  Divider,\r\n  Grid,\r\n  makeStyles,\r\n  Paper,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableRow,\r\n  Tooltip,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport CheckIcon from \"@material-ui/icons/Check\";\r\nimport ErrorOutlineIcon from \"@material-ui/icons/ErrorOutline\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { getLinkFromTxid } from \"../../utils/utils\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    padding: theme.spacing(0, 2, 2, 2),\r\n  },\r\n}));\r\n\r\nexport default function DecryptedCertInfo(props) {\r\n  const cls = useStyles();\r\n  const versions = useSelector(\r\n    (state) =>\r\n      state.shareCertificateSlice.decryptedDataOfAccount?.certificate?.versions\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <Paper className={cls.root}>\r\n        {!versions && (\r\n          <>\r\n            <Box pt={2} pb={1}>\r\n              <Typography variant=\"h4\" gutterBottom>\r\n                Thông tin bằng cấp\r\n              </Typography>\r\n              <Divider></Divider>\r\n              <Typography style={{ paddingTop: \"8px\" }}>\r\n                Chưa có bằng cấp!\r\n              </Typography>\r\n            </Box>\r\n          </>\r\n        )}\r\n        {versions && versions[0] && <CertTable cert={versions[0]}></CertTable>}\r\n      </Paper>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction CertTable({ cert }) {\r\n  console.log(cert);\r\n  const plain = cert.plain;\r\n  const [certPart1, certPart2] = separateCertificate(plain, cert);\r\n  return (\r\n    <>\r\n      <Box\r\n        pt={2}\r\n        pb={1}\r\n        display=\"flex\"\r\n        justifyContent=\"space-between\"\r\n        alignItems=\"center\"\r\n      >\r\n        <Typography variant=\"h4\">Thông tin bằng cấp</Typography>\r\n        {cert.active && (\r\n          <Tooltip title=\"Bằng cấp hợp lệ, sẵn sàng để chia sẻ\">\r\n            <CheckIcon color=\"primary\" size=\"1rem\"></CheckIcon>\r\n          </Tooltip>\r\n        )}\r\n        {!cert.active && (\r\n          <Tooltip title=\"Bằng cấp đã bị thu hồi!\">\r\n            <ErrorOutlineIcon color=\"secondary\" size=\"1rem\"></ErrorOutlineIcon>\r\n          </Tooltip>\r\n        )}\r\n      </Box>\r\n      <Divider></Divider>\r\n      <Grid container>\r\n        <Grid item sm={12} md={6}>\r\n          <SimpleTable rows={certPart1}></SimpleTable>\r\n        </Grid>\r\n        <Grid item sm={12} md={6}>\r\n          <SimpleTable rows={certPart2}></SimpleTable>\r\n        </Grid>\r\n      </Grid>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction SimpleTable({ rows }) {\r\n  return (\r\n    <TableContainer>\r\n      <Table size=\"small\">\r\n        <TableBody>\r\n          {Object.entries(rows).map((entry, index) => (\r\n            <TableRow key={index}>\r\n              <TableCell style={{ width: \"50%\" }}>{entry[0]}</TableCell>\r\n              <TableCell>{entry[1]}</TableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n}\r\n\r\nfunction separateCertificate(plain, cert) {\r\n  const link = getLinkFromTxid(cert.txid);\r\n  let certPart1 = {\r\n    \"Họ và tên\": plain.name,\r\n    \"Ngày sinh\": plain.birthday,\r\n    \"Giới tính\": plain.gender,\r\n    Trường: plain.university,\r\n    \"Ngành học\": plain.faculty,\r\n    \"Loại bằng\": plain.degree,\r\n    \"Năm tốt nghiệp\": plain.gradyear,\r\n  };\r\n  let certPart2 = {\r\n    \"Xếp loại\": plain.level,\r\n    \"Hình thức đào tạo\": plain.eduform,\r\n    \"Nơi cấp\": plain.issuelocation,\r\n    \"Ngày cấp\": plain.issuedate,\r\n    \"Hiệu trưởng\": plain.headmaster,\r\n    // \"Số hiệu\": plain.regisno,\r\n    \"Số hiệu vào sổ\": plain.globalregisno,\r\n    Txid: link,\r\n  };\r\n  return [certPart1, certPart2];\r\n}\r\n\r\n// const certPart1 = {\r\n//   \"Họ và tên\": \"Nguyễn Văn An\",\r\n//   \"Ngày sinh\": \"01/01/1998\",\r\n//   \"Nơi sinh\": \"Từ Sơn, Bắc Ninh\",\r\n//   \"Giới tính\": \"Nam\",\r\n//   \"Dân tộc\": \"Kinh\",\r\n//   \"Học sinh trường\": \"Trung học cơ sở Hương Mạc I\",\r\n//   \"Năm tốt nghiệp\": \"2016\",\r\n// };\r\n\r\n// const certPart2 = {\r\n//   \"Xếp loại tốt nghiệp\": \"Khá\",\r\n//   \"Hình thức đào tạo\": \"Chính quy\",\r\n//   \"Số hiệu\": \"A09050634\",\r\n//   \"Số vào sổ cấp bằng\": \"185\",\r\n//   \"Trưởng phòng GD&ĐT\": \"Nguyễn Văn Bình\",\r\n//   Txid: \"2443d2798645516f6d985347ba456ce6da416063952565d0a33d0d2009ee7a3f\".substr(0, 20),\r\n// };\r\n","import {\r\n  Divider,\r\n  makeStyles,\r\n  Paper,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { getLinkFromTxid } from \"src/utils/utils\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nexport default function DecryptedSubjectTable(props) {\r\n  const cls = useStyles();\r\n  const subjects = useSelector(\r\n    (state) => state.shareCertificateSlice.decryptedDataOfAccount.subjects\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <Paper className={cls.root}>\r\n        <Typography gutterBottom variant=\"h4\">\r\n          Thông tin bảng điểm\r\n        </Typography>\r\n        <Divider></Divider>\r\n        <TableContainer>\r\n          <Table size=\"small\">\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell>Kì học</TableCell>\r\n                <TableCell>Mã HP</TableCell>\r\n                <TableCell>Tên HP</TableCell>\r\n                <TableCell>Số tín chỉ</TableCell>\r\n                <TableCell>Điểm GK</TableCell>\r\n                <TableCell>Điểm CK</TableCell>\r\n                <TableCell>Mã GV</TableCell>\r\n                <TableCell>Tên GV</TableCell>\r\n                {/* <TableCell>Điểm cuối kì</TableCell> */}\r\n                {/* <TableCell>Điểm chữ</TableCell> */}\r\n                <TableCell>Txid</TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {subjects.map((subject, index) => (\r\n                <React.Fragment key={index}>\r\n                  {subject.versions.map((version, index) => (\r\n                    <TableRow key={index}>\r\n                      <TableCell>{version.plain.semester}</TableCell>\r\n                      <TableCell>{version.plain.subject.subjectId}</TableCell>\r\n                      <TableCell>{version.plain.subject.name}</TableCell>\r\n                      <TableCell>{version.plain.subject.credit}</TableCell>\r\n                      <TableCell>{version.plain.halfSemesterPoint}</TableCell>\r\n                      <TableCell>{version.plain.finalSemesterPoint}</TableCell>\r\n                      <TableCell>{version.plain.teacherId}</TableCell>\r\n                      <TableCell>{version.plain.teacherName}</TableCell>\r\n                      {/* <TableCell>{version.plain.rank}</TableCell> */}\r\n                      <TableCell>\r\n                        {/* <Tooltip title={version.txid}>{version.txid.slice(0, 20) + \"...\" + version.txid.slice(-20)}</Tooltip> */}\r\n                        {/* {version.txid.slice(0, 20) + \"...\" + version.txid.slice(-20)} */}\r\n                        {getLinkFromTxid(version.txid)}\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                </React.Fragment>\r\n              ))}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n      </Paper>\r\n    </div>\r\n  );\r\n}\r\n","import { Box, Divider, makeStyles, Paper, Typography } from \"@material-ui/core\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nexport default function EncryptedCertInfo(props) {\r\n  const cls = useStyles();\r\n  const cipher = useSelector((state) => {\r\n    const versions = state.shareCertificateSlice.encryptedDataOfAccount.certificate.versions;\r\n    if (!versions) {\r\n      return <Typography>Chưa có bằng cấp!</Typography>;\r\n    }\r\n    // backend already sort the arrays\r\n    return versions[0].cipher;\r\n  });\r\n  return (\r\n    <div>\r\n      <Paper className={cls.root}>\r\n        <Box mb={1}>\r\n          <Typography variant=\"h4\">Thông tin bằng cấp (dạng mã hóa)</Typography>\r\n        </Box>\r\n        <Divider></Divider>\r\n        <Box mt={2} style={{ wordWrap: \"break-word\" }}>\r\n          {cipher}\r\n        </Box>\r\n      </Paper>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Box, Button, Divider, makeStyles, Paper, Typography } from \"@material-ui/core\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nexport default function EncryptedSubjectTable(props) {\r\n  const cls = useStyles();\r\n  const subjects = useSelector((state) => state.shareCertificateSlice.encryptedDataOfAccount.subjects);\r\n  return (\r\n    <div>\r\n      <Paper className={cls.root}>\r\n        <Box mb={1}>\r\n          <Typography variant=\"h4\">Thông tin bảng điểm (dạng mã hóa)</Typography>\r\n        </Box>\r\n        <Divider></Divider>\r\n        <Box mt={2}>\r\n          {subjects.map((subject, index) => (\r\n            <React.Fragment key={index}>\r\n              {subject.versions.map((version, index) => (\r\n                <Box key={index} mt={2} style={{ wordWrap: \"break-word\" }}>\r\n                  {version.cipher}\r\n                </Box>\r\n              ))}\r\n            </React.Fragment>\r\n          ))}\r\n        </Box>\r\n      </Paper>\r\n    </div>\r\n  );\r\n}\r\n","import { makeStyles, Paper } from \"@material-ui/core\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getToken } from \"../../utils/mng-token\";\r\nimport { resetState, updateEncryptedState } from \"./redux\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    padding: theme.spacing(2, 2),\r\n  },\r\n}));\r\n\r\nexport default function SelectionBar(props) {\r\n  const cls = useStyles();\r\n  const accounts = useSelector((state) => state.sawtoothAccountsSlice.accounts);\r\n  const currentSelectedAccount = useSelector((state) => state.shareCertificateSlice.currentSelectedAccount);\r\n  const dp = useDispatch();\r\n\r\n  async function hdChangeSelection(e, selectedAccount) {\r\n    if (selectedAccount === null) {\r\n      dp(resetState());\r\n    } else {\r\n      const publicKeyHex = selectedAccount.publicKeyHex;\r\n      const response = await fetch(`${process.env.REACT_APP_SERVER_URL}/student/encrypted-data?publicKeyHex=${publicKeyHex}`, {\r\n        headers: { \"Content-Type\": \"application/json\", Authorization: getToken() },\r\n      });\r\n\r\n      const result = await response.json();\r\n      if (!response.ok) {\r\n        console.log(result);\r\n      } else {\r\n        // result: {publicKeyHex, certificate: {address, versions: [{txid, timestamp, active, cipher}] }, subjects: [{address, versions: [{txid, timestamp, active, cipher}, {}...] } ]}\r\n        dp(updateEncryptedState({ currentSelectedAccount: selectedAccount, encryptedDataOfAccount: result }));\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Paper className={cls.root}>\r\n      <Autocomplete\r\n        size=\"small\"\r\n        renderInput={(params) => <TextField {...params} label=\"Chọn tài khoản\" variant=\"outlined\" />}\r\n        options={accounts}\r\n        getOptionLabel={(account) => `${account.publicKeyHex.slice(0, 30) + \"...\" + account.publicKeyHex.slice(-30)} - ${account.note}`}\r\n        value={currentSelectedAccount}\r\n        getOptionSelected={(option, value) => option.publicKeyHex === value.publicKeyHex}\r\n        onChange={hdChangeSelection}\r\n      ></Autocomplete>\r\n    </Paper>\r\n  );\r\n}\r\n","import { Box, makeStyles } from \"@material-ui/core\";\r\nimport { useSelector } from \"react-redux\";\r\nimport View from \"../../shared/View\";\r\nimport AlertDecryptResultBar from \"./AlertDecryptResultBar\";\r\nimport AlertFetchResultBar from \"./AlertFetchResultBar\";\r\nimport DecryptedCertInfo from \"./DecryptedCertInfo\";\r\nimport DecryptedSubjectTable from \"./DecryptedSubjectTable\";\r\nimport EncryptedCertInfo from \"./EncryptedCertInfo\";\r\nimport EncryptedSubjectTable from \"./EncryptedSubjectTable\";\r\nimport SelectionBar from \"./SelectionBar\";\r\n\r\nconst useStyels = makeStyles((theme) => ({\r\n  root: {\r\n    \"& > *\": {\r\n      margin: theme.spacing(2, 0),\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function ShareCertificate(props) {\r\n  const cls = useStyels();\r\n  const show = useSelector((state) => state.shareCertificateSlice.show);\r\n\r\n  return (\r\n    <View title=\"Chia sẻ bằng cấp\">\r\n      <Box className={cls.root}>\r\n        <SelectionBar></SelectionBar>\r\n        {show === \"encrypt\" && (\r\n          <>\r\n            <AlertFetchResultBar></AlertFetchResultBar>\r\n            <EncryptedCertInfo></EncryptedCertInfo>\r\n            <EncryptedSubjectTable></EncryptedSubjectTable>\r\n          </>\r\n        )}\r\n        {show === \"decrypt\" && (\r\n          <>\r\n            <AlertDecryptResultBar></AlertDecryptResultBar>\r\n            <DecryptedCertInfo></DecryptedCertInfo>\r\n            <DecryptedSubjectTable></DecryptedSubjectTable>\r\n          </>\r\n        )}\r\n      </Box>\r\n    </View>\r\n  );\r\n}\r\n","import React from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport DashboardLayout from \"src/layouts/DashboardLayout\";\nimport MainLayout from \"src/layouts/MainLayout\";\nimport NotFoundView from \"src/shared/NotFoundView\";\nimport SignUpView from \"src/views/SignUp\";\nimport SignInView from \"src/views/SignIn\";\nimport { getToken } from \"./utils/mng-token\";\nimport StudentProfile from \"./views/StudentProfile\";\nimport Test from \"./Test\";\nimport AccountManagement from \"./views/AccountManagement\";\nimport ShareCertificate from \"./views/ShareCertificate\";\n\nconst routes = [\n  {\n    path: \"/nh\",\n    element: <DashboardLayout />,\n    children: [\n      { path: \"thong-tin-ca-nhan\", element: <StudentProfile /> },\n      { path: \"quan-ly-tai-khoan\", element: <AccountManagement /> },\n      { path: \"chia-se-bang-cap\", element: <ShareCertificate /> },\n      { path: \"*\", element: <Navigate to=\"/404\" replace={true} /> },\n    ],\n  },\n  // TODO: remove test on production env\n  { path: \"test\", element: <Test /> },\n  {\n    path: \"/\",\n    element: <MainLayout />,\n    children: [\n      { path: \"dang-ki\", element: <SignUpView /> },\n      { path: \"dang-nhap\", element: <SignInView /> },\n      { path: \"404\", element: <NotFoundView /> },\n      { path: \"/\", element: <Redirector /> },\n      { path: \"*\", element: <Navigate to=\"/404\" /> },\n    ],\n  },\n];\n\nfunction Redirector(props) {\n  const token = getToken();\n  if (!token) {\n    return <Navigate to=\"/dang-ki\"></Navigate>;\n  } else {\n    return <Navigate to=\"/nh/thong-tin-ca-nhan\"></Navigate>;\n  }\n}\n\nexport default routes;\n","import \"react-perfect-scrollbar/dist/css/styles.css\";\nimport { useRoutes } from \"react-router-dom\";\nimport { ThemeProvider } from \"@material-ui/core\";\nimport GlobalStyles from \"src/shared/GlobalStyles\";\nimport theme from \"src/theme\";\nimport routes from \"src/routes\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\nimport { SnackbarProvider } from \"notistack\";\n\nconst App = () => {\n  const routing = useRoutes(routes);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <GlobalStyles />\n      <Provider store={store}>\n        <SnackbarProvider maxSnack={1}>{routing}</SnackbarProvider>\n      </Provider>\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}