(this.webpackJsonpstudent_frontend=this.webpackJsonpstudent_frontend||[]).push([[0],{270:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),r=n.n(c),i=n(15),s=n.n(i),o=n(21),l=(n(261),n(14)),j=n(345),b=n(271),d=n(251),u=Object(b.a)((function(){return Object(d.a)({"@global":{"*":{boxSizing:"border-box",margin:0,padding:0},html:{"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",height:"100%",width:"100%"},body:{backgroundColor:"#f4f6f8",height:"100%",width:"100%"},a:{textDecoration:"none"},"#root":{height:"100%",width:"100%"}}})})),h=function(){return u(),null},p=n(243),x=n(17),O=n(225),g=n.n(O),m=Object(p.a)({palette:{background:{dark:"#F4F6F8",default:x.a.common.white,paper:x.a.common.white},primary:g.a,text:{primary:x.a.blueGrey[900],secondary:x.a.blueGrey[600]}},shadows:["none","0 0 0 1px rgba(63,63,68,0.05), 0 1px 2px 0 rgba(63,63,68,0.15)","0 0 1px 0 rgba(0,0,0,0.31), 0 2px 2px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 5px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 8px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 9px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 10px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 11px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 12px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 13px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 14px 24px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 16px 28px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 18px 30px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 20px 32px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 22px 34px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 24px 36px -8px rgba(0,0,0,0.25)"],typography:{h1:{fontWeight:500,fontSize:35,letterSpacing:"-0.24px"},h2:{fontWeight:500,fontSize:29,letterSpacing:"-0.24px"},h3:{fontWeight:500,fontSize:24,letterSpacing:"-0.06px"},h4:{fontWeight:500,fontSize:20,letterSpacing:"-0.06px"},h5:{fontWeight:500,fontSize:16,letterSpacing:"-0.05px"},h6:{fontWeight:500,fontSize:14,letterSpacing:"-0.05px"},overline:{fontWeight:500}}}),f=n(16),v=n.n(f),y=n(19),k=n(23),w=n(117),S=n(347),C=n(352),N=n(82),T=n(313),P=n(273),A=n(350),D=n(315),W=n(310),K=n(311),H=n(312),z=n(8),I=n(56),B=n(3),E=n(272),M=n(309),G=Object(b.a)((function(e){return{item:{display:"flex",paddingTop:0,paddingBottom:0},button:{color:e.palette.text.secondary,fontWeight:e.typography.fontWeightMedium,justifyContent:"flex-start",letterSpacing:0,padding:"10px 8px",textTransform:"none",width:"100%"},icon:{marginRight:e.spacing(1)},title:{marginRight:"auto"},active:{color:e.palette.primary.main,"& $title":{fontWeight:e.typography.fontWeightMedium},"& $icon":{color:e.palette.primary.main}}}})),F=function(e){var t=e.className,n=e.href,c=e.icon,r=e.title,i=Object(I.a)(e,["className","href","icon","title"]),s=G();return Object(a.jsx)(E.a,Object(z.a)(Object(z.a)({className:Object(B.a)(s.item,t),disableGutters:!0},i),{},{children:Object(a.jsxs)(M.a,{activeClassName:s.active,className:s.button,component:o.c,to:n,children:[c&&Object(a.jsx)(c,{className:s.icon,size:"20"}),Object(a.jsx)("span",{className:s.title,children:r})]})}))},q=n(12),L=[{href:"/nh/thong-tin-ca-nhan",icon:W.a,title:"Th\xf4ng tin c\xe1 nh\xe2n"},{href:"/nh/quan-ly-tai-khoan",icon:K.a,title:"Qu\u1ea3n l\xfd t\xe0i kho\u1ea3n"},{href:"/nh/chia-se-bang-cap",icon:H.a,title:"Chia s\u1ebb b\u1eb1ng c\u1ea5p"}],J=Object(b.a)((function(){return{mobileDrawer:{width:256},desktopDrawer:{width:256,top:64,height:"calc(100% - 64px)"},avatar:{cursor:"pointer",width:64,height:64}}})),R=function(e){var t=e.onMobileClose,n=e.openMobile,r=J(),i=Object(l.f)(),s=Object(q.c)((function(e){return e.studentProfileSlice}));Object(c.useEffect)((function(){n&&t&&t()}),[i.pathname]);var j=Object(a.jsxs)(S.a,{height:"100%",display:"flex",flexDirection:"column",children:[Object(a.jsxs)(S.a,{alignItems:"center",display:"flex",flexDirection:"column",p:2,children:[Object(a.jsx)(C.a,{className:r.avatar,component:o.b,src:s.imgSrc,to:"/nh/thong-tin-ca-nhan"}),Object(a.jsx)(N.a,{className:r.name,color:"textPrimary",variant:"h5",children:s.name}),Object(a.jsx)(N.a,{color:"textSecondary",variant:"body2",children:s.level||"Sinh vi\xean \u0110\u1ea1i h\u1ecdc"})]}),Object(a.jsx)(T.a,{}),Object(a.jsx)(S.a,{p:2,children:Object(a.jsx)(P.a,{children:L.map((function(e){return Object(a.jsx)(F,{href:e.href,title:e.title,icon:e.icon},e.title)}))})}),Object(a.jsx)(S.a,{flexGrow:1})]});return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(A.a,{lgUp:!0,children:Object(a.jsx)(D.a,{anchor:"left",classes:{paper:r.mobileDrawer},onClose:t,open:n,variant:"temporary",children:j})}),Object(a.jsx)(A.a,{mdDown:!0,children:Object(a.jsx)(D.a,{anchor:"left",classes:{paper:r.desktopDrawer},open:!0,variant:"persistent",children:j})})]})};R.defaultProps={onMobileClose:function(){},openMobile:!1};var _=R,Q=n(317),V=n(318),U=n(319),X=n(320),Y=n(228),$=n.n(Y),Z=n(229),ee=n.n(Z),te=n(227),ne=n.n(te),ae=function(e){return Object(a.jsx)("img",Object(z.a)({alt:"Logo",src:"/static/logo.svg"},e))},ce=n(39),re=n(67),ie=Object(re.createSlice)({name:"studentProfileSlice",initialState:{fetching:!0},reducers:{setProfile:function(e,t){Object.assign(e,t.payload),e.fetching=!1},updateImgSrc:function(e,t){e.imgSrc=t.payload}}}),se=ie.actions,oe=se.setProfile,le=se.updateImgSrc,je=ie.reducer,be=(0,n(67).createSlice)({name:"sawtoothAccountsSlice",initialState:{fetching:!0,accounts:[]},reducers:{setFetchedAccounts:function(e,t){e.fetching=!1,e.accounts=t.payload},addSawtoothAccount:function(e,t){var n=t.payload;""===n.privateKeyHex&&(n.privateKeyHex=!1),e.accounts.push(n)},deleteSawtoothAccount:function(e,t){e.accounts=e.accounts.filter((function(e){return e.publicKeyHex!==t.payload.publicKeyHex}))}}}),de=be.reducer,ue=be.actions,he=ue.setFetchedAccounts,pe=ue.addSawtoothAccount,xe=ue.deleteSawtoothAccount,Oe=n(67).createSlice,ge={currentSelectedAccount:null,show:"none",encryptedDataOfAccount:{publicKeyHex:"",certificate:{address:"",versions:[{txid:"",timestamp:1234,active:"",cipher:""}]},subjects:[{address:"",versions:[{txid:"",timestamp:1234,active:"",cipher:""}]},{}]},decryptedDataOfAccount:{publicKeyHex:"",certificate:{address:"",versions:[{txid:"",timestamp:1234,active:"",plain:""}]},subjects:[{address:"",versions:[{txid:"",timestamp:1234,active:"",plain:""}]},{}]}},me=Oe({name:"shareCertificateSlice",initialState:ge,reducers:{resetState:function(e,t){Object.assign(e,ge)},updateEncryptedState:function(e,t){e.show="encrypt",e.currentSelectedAccount=t.payload.currentSelectedAccount,e.encryptedDataOfAccount=t.payload.encryptedDataOfAccount},updateDecryptedState:function(e,t){e.show="decrypt",e.decryptedDataOfAccount=t.payload}}}),fe=me.reducer,ve=me.actions,ye=ve.updateEncryptedState,ke=ve.resetState,we=ve.updateDecryptedState,Se=Object(ce.d)({studentProfileSlice:je,sawtoothAccountsSlice:de,shareCertificateSlice:fe}),Ce=Object(re.configureStore)({reducer:function(e,t){return"RESET_STORE"===t.type&&(e=void 0),Se(e,t)}});var Ne=!0;function Te(e){Ne=e}function Pe(e){sessionStorage.setItem("token","Bearer "+e)}function Ae(e){localStorage.setItem("token","Bearer "+e)}function De(){return Ne?localStorage.getItem("token"):sessionStorage.getItem("token")}var We=Object(b.a)((function(){return{root:{},avatar:{width:60,height:60}}})),Ke=function(e){var t=e.className,n=e.onMobileNavOpen,r=Object(I.a)(e,["className","onMobileNavOpen"]),i=We(),s=Object(c.useState)([]),j=Object(k.a)(s,1)[0],b=Object(l.g)(),d=Object(q.b)();return Object(a.jsx)(Q.a,Object(z.a)(Object(z.a)({className:Object(B.a)(i.root,t),elevation:0},r),{},{children:Object(a.jsxs)(V.a,{children:[Object(a.jsx)(o.b,{to:"/",children:Object(a.jsx)(ae,{})}),Object(a.jsx)(S.a,{flexGrow:1}),Object(a.jsxs)(A.a,{mdDown:!0,children:[Object(a.jsx)(U.a,{color:"inherit",children:Object(a.jsx)(X.a,{badgeContent:j.length,color:"primary",variant:"dot",children:Object(a.jsx)(ne.a,{})})}),Object(a.jsx)(U.a,{color:"inherit",onClick:function(e){sessionStorage.removeItem("role"),localStorage.removeItem("role"),Ne?localStorage.removeItem("token"):sessionStorage.removeItem("token"),d({type:"RESET_STORE"}),b("/")},children:Object(a.jsx)($.a,{})})]}),Object(a.jsx)(A.a,{lgUp:!0,children:Object(a.jsx)(U.a,{color:"inherit",onClick:n,children:Object(a.jsx)(ee.a,{})})})]})}))},He=n(321),ze=Object(b.a)((function(e){return{root:{height:"100vh",display:"grid",gridTemplateColumns:"1fr",gridTemplateRows:"64px auto",rowGap:"5px","& *":{height:"100%"}},main:{display:"grid",gridTemplateColumns:"256px auto",columnGap:"5px"},sidebar:{display:"grid",gridTemplateColumns:"1fr",gridTemplateRows:"128px auto",rowGap:"5px"}}}));function Ie(e){var t=ze();return Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsx)("div",{className:t.topbar,children:Object(a.jsx)(He.a,{variant:"rect"})}),Object(a.jsxs)("div",{className:t.main,children:[Object(a.jsxs)("div",{className:t.sidebar,children:[Object(a.jsx)("div",{className:t.info,children:Object(a.jsx)(He.a,{variant:"rect"})}),Object(a.jsx)("div",{className:t.navlink,children:Object(a.jsx)(He.a,{variant:"rect"})})]}),Object(a.jsx)("div",{className:t.content,children:Object(a.jsx)(He.a,{variant:"rect"})})]})]})}var Be=n(230),Ee=n.n(Be),Me=Object(b.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,display:"flex",height:"100%",overflow:"hidden",width:"100%"},wrapper:Object(w.a)({display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64},e.breakpoints.up("lg"),{paddingLeft:256}),contentContainer:{display:"flex",flex:"1 1 auto",overflow:"hidden"},content:{flex:"1 1 auto",height:"100%",overflow:"auto"}}})),Ge=function(){var e=Me(),t=Object(c.useState)(!1),n=Object(k.a)(t,2),r=n[0],i=n[1],s=Object(q.c)((function(e){return e.studentProfileSlice.fetching})),o=Object(q.b)();function j(){return(j=Object(y.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://student-backend.b4e.vn","/student/profile"),{headers:{Authorization:De()}});case 3:if((t=e.sent).ok){e.next=14;break}return e.t0=alert,e.t1=JSON,e.next=9,t.json();case 9:e.t2=e.sent,e.t3=e.t1.stringify.call(e.t1,e.t2),(0,e.t0)(e.t3),e.next=21;break;case 14:return e.t4=o,e.t5=oe,e.next=18,t.json();case 18:e.t6=e.sent,e.t7=(0,e.t5)(e.t6),(0,e.t4)(e.t7);case 21:e.next=27;break;case 23:e.prev=23,e.t8=e.catch(0),console.log(e.t8),alert(e.t8);case 27:case"end":return e.stop()}}),e,null,[[0,23]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){j.apply(this,arguments)}()}),[]),Object(a.jsx)(a.Fragment,{children:s?Object(a.jsx)(Ie,{}):Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(Ke,{onMobileNavOpen:function(){return i(!0)}}),Object(a.jsx)(_,{onMobileClose:function(){return i(!1)},openMobile:r}),Object(a.jsx)("div",{className:e.wrapper,children:Object(a.jsx)("div",{className:e.contentContainer,children:Object(a.jsx)("div",{className:e.content,children:Object(a.jsx)(Ee.a,{children:Object(a.jsx)(l.b,{})})})})})]})})})},Fe=Object(b.a)({root:{},toolbar:{height:64}}),qe=function(e){var t=e.className,n=Object(I.a)(e,["className"]),c=Fe();return Object(a.jsx)(Q.a,Object(z.a)(Object(z.a)({className:Object(B.a)(c.root,t),elevation:0},n),{},{children:Object(a.jsx)(V.a,{className:c.toolbar,children:Object(a.jsx)(o.b,{to:"/",children:Object(a.jsx)(ae,{})})})}))},Le=Object(b.a)((function(e){return{root:{backgroundColor:e.palette.background.default,display:"flex",height:"100%",overflow:"hidden",width:"100%"},wrapper:{display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64},contentContainer:{display:"flex",flex:"1 1 auto",overflow:"hidden"},content:{flex:"1 1 auto",height:"100%",overflow:"auto"}}})),Je=function(){var e=Le();return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(qe,{}),Object(a.jsx)("div",{className:e.wrapper,children:Object(a.jsx)("div",{className:e.contentContainer,children:Object(a.jsx)("div",{className:e.content,children:Object(a.jsx)(l.b,{})})})})]})},Re=n(322),_e=n(231),Qe=Object(c.forwardRef)((function(e,t){var n=e.children,c=e.title,r=void 0===c?"":c,i=Object(I.a)(e,["children","title"]);return Object(a.jsxs)("div",Object(z.a)(Object(z.a)({ref:t},i),{},{children:[Object(a.jsx)(_e.a,{children:Object(a.jsx)("title",{children:r})}),n]}))})),Ve=Object(b.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,height:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)},image:{marginTop:50,display:"inline-block",maxWidth:"100%",width:560}}})),Ue=function(){var e=Ve();return Object(a.jsx)(Qe,{className:e.root,title:"404",children:Object(a.jsx)(S.a,{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",children:Object(a.jsxs)(Re.a,{maxWidth:"md",children:[Object(a.jsx)(N.a,{align:"center",color:"textPrimary",variant:"h1",children:"404: The page you are looking for isn\u2019t here"}),Object(a.jsx)(N.a,{align:"center",color:"textPrimary",variant:"subtitle2",children:"You either tried some shady route or you came here by mistake. Whichever it is, try using the navigation"}),Object(a.jsx)(S.a,{textAlign:"center"})]})})})},Xe=n(324),Ye=n(325),$e=n(323),Ze=n(326),et=n(120),tt=n.n(et),nt=n(349);function at(){return Object(a.jsxs)(N.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(a.jsx)($e.a,{component:o.b,to:"/",children:"B4E Website"})," ",(new Date).getFullYear(),"."]})}var ct=Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},alert:{marginTop:e.spacing(3)},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function rt(){var e=ct(),t=Object(c.useState)({email:"",password:"",repassword:""}),n=Object(k.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)({}),j=Object(k.a)(s,2),b=j[0],d=j[1],u=Object(c.useState)(null),h=Object(k.a)(u,2),p=h[0],x=h[1],O=Object(l.g)();function g(){return(g=Object(y.a)(v.a.mark((function e(t){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("".concat("https://student-backend.b4e.vn","/acc/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 3:if((n=e.sent).ok){e.next=11;break}return e.next=7,n.json();case 7:a=e.sent,d(a),e.next=18;break;case 11:return e.next=13,n.json();case 13:Ae(e.sent.token),d(null),x("\u0110\u0103ng k\xed t\xe0i kho\u1ea3n th\xe0nh c\xf4ng!"),setTimeout((function(){return O("/nh/thong-tin-ca-nhan")}),1e3);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.jsxs)(Re.a,{component:"main",maxWidth:"xs",children:[Object(a.jsx)(Xe.a,{}),Object(a.jsxs)("div",{className:e.paper,children:[Object(a.jsx)(C.a,{className:e.avatar,children:Object(a.jsx)(tt.a,{})}),Object(a.jsx)(N.a,{component:"h1",variant:"h3",children:"\u0110\u0103ng k\xed t\xe0i kho\u1ea3n Ng\u01b0\u1eddi h\u1ecdc"}),Object(a.jsx)("div",{children:p?Object(a.jsx)(nt.a,{className:e.alert,severity:"success",children:p}):null}),Object(a.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(a.jsxs)(Ye.a,{container:!0,spacing:2,children:[Object(a.jsx)(Ye.a,{item:!0,xs:12,children:Object(a.jsx)(Ze.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email",value:r.email,onChange:function(e){i(Object(z.a)(Object(z.a)({},r),{},{email:e.target.value})),d(null)},error:null===b||void 0===b?void 0:b.email,helperText:null===b||void 0===b?void 0:b.email,disabled:Boolean(p)})}),Object(a.jsx)(Ye.a,{item:!0,xs:12,children:Object(a.jsx)(Ze.a,{variant:"outlined",required:!0,fullWidth:!0,label:"M\u1eadt kh\u1ea9u",type:"password",id:"password",value:r.password,onChange:function(e){i(Object(z.a)(Object(z.a)({},r),{},{password:e.target.value})),d(null)},error:null===b||void 0===b?void 0:b.password,helperText:null===b||void 0===b?void 0:b.password,disabled:Boolean(p)})}),Object(a.jsx)(Ye.a,{item:!0,xs:12,children:Object(a.jsx)(Ze.a,{variant:"outlined",required:!0,fullWidth:!0,label:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u",type:"password",id:"rePassword",value:r.repassword,onChange:function(e){i(Object(z.a)(Object(z.a)({},r),{},{repassword:e.target.value})),d(null)},error:null===b||void 0===b?void 0:b.repassword,helperText:null===b||void 0===b?void 0:b.repassword,disabled:Boolean(p)})})]}),Object(a.jsx)(M.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){return g.apply(this,arguments)},children:"\u0110\u0103ng k\xed"}),Object(a.jsx)(Ye.a,{container:!0,justify:"flex-end",children:Object(a.jsx)(Ye.a,{item:!0,children:Object(a.jsx)($e.a,{component:o.b,to:"/dang-nhap",children:"B\u1ea1n \u0111\xe3 c\xf3 t\xe0i kho\u1ea3n r\u1ed3i? \u0110\u0103ng nh\u1eadp"})})})]})]}),Object(a.jsx)(S.a,{mt:5,children:Object(a.jsx)(at,{})})]})}var it=n(348),st=n(327);function ot(){return Object(a.jsxs)(N.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(a.jsx)($e.a,{component:o.b,to:"/",children:"B4E Website"})," ",(new Date).getFullYear(),"."]})}var lt=Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},alert:{marginTop:e.spacing(3)},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},link:{color:e.palette.primary.main}}}));function jt(){var e=lt(),t=Object(c.useState)({email:"",password:"",remember:!0}),n=Object(k.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(null),j=Object(k.a)(s,2),b=j[0],d=j[1],u=Object(l.g)();function h(){return(h=Object(y.a)(v.a.mark((function e(t){var n,a,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("".concat("https://student-backend.b4e.vn","/acc/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r.email,password:r.password})});case 3:if((n=e.sent).ok){e.next=11;break}return e.next=7,n.json();case 7:a=e.sent,d(a),e.next=16;break;case 11:return e.next=13,n.json();case 13:c=e.sent,r.remember?(Ae(c.token),Te(!0)):(Pe(c.token),Te(!1)),u("/nh/thong-tin-ca-nhan");case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.jsxs)(Re.a,{component:"main",maxWidth:"xs",children:[Object(a.jsx)(Xe.a,{}),Object(a.jsxs)("div",{className:e.paper,children:[Object(a.jsx)(C.a,{className:e.avatar,children:Object(a.jsx)(tt.a,{})}),Object(a.jsx)(N.a,{component:"h1",variant:"h3",children:"\u0110\u0103ng nh\u1eadp t\xe0i kho\u1ea3n Ng\u01b0\u1eddi h\u1ecdc"}),Object(a.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(a.jsx)(Ze.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",autoComplete:"email",autoFocus:!0,value:r.email,onChange:function(e){i(Object(z.a)(Object(z.a)({},r),{},{email:e.target.value})),d(Object(z.a)(Object(z.a)({},b),{},{email:null}))},error:null===b||void 0===b?void 0:b.email,helperText:null===b||void 0===b?void 0:b.email}),Object(a.jsx)(Ze.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"M\u1eadt kh\u1ea9u",type:"password",id:"password",autoComplete:"password",value:r.password,onChange:function(e){i(Object(z.a)(Object(z.a)({},r),{},{password:e.target.value})),d(Object(z.a)(Object(z.a)({},b),{},{password:null}))},error:null===b||void 0===b?void 0:b.password,helperText:null===b||void 0===b?void 0:b.password}),Object(a.jsx)(st.a,{control:Object(a.jsx)(it.a,{checked:r.remember,onChange:function(e){return i(Object(z.a)(Object(z.a)({},r),{},{remember:!r.remember}))},color:"primary"}),label:"Nh\u1edb \u0111\u0103ng nh\u1eadp"}),Object(a.jsx)(M.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){return h.apply(this,arguments)},children:"\u0110\u0103ng nh\u1eadp"}),Object(a.jsxs)(Ye.a,{container:!0,children:[Object(a.jsx)(Ye.a,{item:!0,xs:!0,children:Object(a.jsx)($e.a,{componet:o.b,to:"#",variant:"body2",children:"Qu\xean m\u1eadt kh\u1ea9u?"})}),Object(a.jsx)(Ye.a,{item:!0,children:Object(a.jsx)($e.a,{component:o.b,to:"/dang-ki",children:"Ch\u01b0a c\xf3 t\xe0i kho\u1ea3n? \u0110\u0103ng k\xed"})})]})]})]}),Object(a.jsx)(S.a,{mt:8,children:Object(a.jsx)(ot,{})})]})}function bt(e){var t=e.children,n=e.title;return Object(a.jsx)("div",{children:Object(a.jsx)(Qe,{title:n,children:Object(a.jsx)(Re.a,{children:Object(a.jsx)(S.a,{py:3,children:t})})})})}var dt=n(242),ut=n(90),ht=n(278),pt=n(279),xt=n(291),Ot=n(333),gt=n(27),mt=n(346),ft=n(31),vt=Object(b.a)((function(e){return{root:{},head:{width:"95%",margin:"auto",padding:e.spacing(2.5,2),backgroundColor:e.palette.primary.main,color:"white",position:"relative"},body:{width:"100%",marginTop:"-32px"},box:{padding:e.spacing(8,3,3,3),"& > *":{marginBottom:e.spacing(3),"&:last-child":{marginBottom:0}}}}}));function yt(){var e=vt(),t=Object(q.c)((function(e){return e.studentProfileSlice})),n=Object(c.useState)(t),r=Object(k.a)(n,2),i=r[0],s=r[1],o=Object(c.useState)(i),l=Object(k.a)(o,2),j=l[0],b=l[1],d=Object(ft.b)().enqueueSnackbar,u=Object(q.b)();function h(){return(h=Object(y.a)(v.a.mark((function e(n){var a,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.preventDefault(),j!==i){e.next=5;break}return d("Nothing changed",{variant:"info",anchorOrigin:{vertical:"bottom",horizontal:"center"}}),e.abrupt("return");case 5:return e.next=7,fetch("".concat("https://student-backend.b4e.vn","/student/profile"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:De()},body:JSON.stringify(Object(z.a)(Object(z.a)({},i),{},{fetching:void 0,imgSrc:void 0}))});case 7:if((a=e.sent).ok){e.next=15;break}return e.next=11,a.json();case 11:c=e.sent,d("Something went wrong: "+JSON.stringify(c),{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"}}),e.next=18;break;case 15:b(i),u(oe(Object(z.a)(Object(z.a)({},i),{},{imgSrc:t.imgSrc}))),d("C\u1eadp nh\u1eadt Profile th\xe0nh c\xf4ng!",{variant:"success",anchorOrigin:{vertical:"bottom",horizontal:"center"}});case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),alert(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})))).apply(this,arguments)}return Object(a.jsxs)(S.a,{className:e.root,children:[Object(a.jsxs)(ut.a,{className:e.head,children:[Object(a.jsx)(N.a,{variant:"h3",children:"Th\xf4ng tin c\xe1 nh\xe2n"}),Object(a.jsx)(N.a,{variant:"subtitle1",children:"Ch\u1ec9nh s\u1eeda l\u1ea1i th\xf4ng tin c\xe1 nh\xe2n (n\u1ebfu c\u1ea7n)"})]}),Object(a.jsx)(S.a,{className:e.body,children:Object(a.jsx)(ut.a,{children:Object(a.jsxs)(S.a,{className:e.box,children:[Object(a.jsxs)(Ye.a,{container:!0,spacing:2,children:[Object(a.jsx)(Ye.a,{item:!0,xs:4,children:Object(a.jsx)(Ze.a,{InputLabelProps:{shrink:!0},id:"name",label:"H\u1ecd v\xe0 t\xean",fullWidth:!0,value:null===i||void 0===i?void 0:i.name,onChange:function(e){return s(Object(z.a)(Object(z.a)({},i),{},{name:e.target.value}))}})}),Object(a.jsx)(Ye.a,{item:!0,xs:4,children:Object(a.jsx)(gt.a,{utils:dt.a,children:Object(a.jsx)(mt.a,{id:"birthday",label:"Ng\xe0y sinh",views:["year","month","date"],openTo:"year",disableFuture:!0,autoOk:!0,format:"dd/MM/yyyy",value:null===i||void 0===i?void 0:i.birthDay,onChange:function(e){return s(Object(z.a)(Object(z.a)({},i),{},{birthDay:e}))},KeyboardButtonProps:{"aria-label":"change date"}})})}),Object(a.jsx)(Ye.a,{item:!0,xs:4,children:Object(a.jsxs)(ht.a,{fullWidth:!0,children:[Object(a.jsx)(pt.a,{id:"genderlabel",shrink:!0,children:"Gi\u1edbi t\xednh"}),Object(a.jsxs)(xt.a,{id:"gender",labelId:"genderlabel",value:null===i||void 0===i?void 0:i.gender,onChange:function(e){return s(Object(z.a)(Object(z.a)({},i),{},{gender:e.target.value}))},children:[Object(a.jsx)(Ot.a,{value:1,children:"Nam"}),Object(a.jsx)(Ot.a,{value:2,children:"N\u1eef"}),Object(a.jsx)(Ot.a,{value:3,children:"Kh\xe1c"})]})]})})]}),Object(a.jsxs)(Ye.a,{container:!0,spacing:2,children:[Object(a.jsx)(Ye.a,{item:!0,xs:4,children:Object(a.jsx)(Ze.a,{InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal",label:"CMT/CCCD",value:null===i||void 0===i?void 0:i.cmt,onChange:function(e){return s(Object(z.a)(Object(z.a)({},i),{},{cmt:e.target.value}))}})}),Object(a.jsx)(Ye.a,{item:!0,xs:4,children:Object(a.jsx)(Ze.a,{InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal",label:"Email",value:null===i||void 0===i?void 0:i.email,onChange:function(e){return s(Object(z.a)(Object(z.a)({},i),{},{email:e.target.value}))}})}),Object(a.jsx)(Ye.a,{item:!0,xs:4,children:Object(a.jsx)(Ze.a,{InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal",label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",value:null===i||void 0===i?void 0:i.phone,onChange:function(e){return s(Object(z.a)(Object(z.a)({},i),{},{phone:e.target.value}))}})})]}),Object(a.jsxs)(Ye.a,{container:!0,spacing:2,children:[Object(a.jsx)(Ye.a,{item:!0,xs:6,children:Object(a.jsx)(Ze.a,{InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal",xs:12,label:"Qu\xea qu\xe1n",value:null===i||void 0===i?void 0:i.hometown,onChange:function(e){return s(Object(z.a)(Object(z.a)({},i),{},{hometown:e.target.value}))}})}),Object(a.jsx)(Ye.a,{item:!0,xs:6,children:Object(a.jsx)(Ze.a,{InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal",xs:12,label:"N\u01a1i \u1edf hi\u1ec7n t\u1ea1i",value:null===i||void 0===i?void 0:i.address,onChange:function(e){return s(Object(z.a)(Object(z.a)({},i),{},{address:e.target.value}))}})})]}),Object(a.jsx)(Ye.a,{container:!0,spacing:2,children:Object(a.jsx)(Ye.a,{item:!0,xs:12,children:Object(a.jsx)(Ze.a,{InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal",xs:12,label:"M\xf4 t\u1ea3 b\u1ea3n th\xe2n",multiline:!0,rows:4,value:null===i||void 0===i?void 0:i.description,onChange:function(e){return s(Object(z.a)(Object(z.a)({},i),{},{description:e.target.value}))}})})}),Object(a.jsx)(S.a,{textAlign:"right",children:Object(a.jsx)(M.a,{color:"primary",variant:"contained",onClick:function(e){return h.apply(this,arguments)},children:"C\u1eadp nh\u1eadt th\xf4ng tin"})})]})})})]})}var kt=Object(b.a)((function(e){return{root:{},avatar:{height:"128px",width:"128px",margin:"auto",position:"relative"},paper:{marginTop:"-64px",width:"100%"},name:{fontWeight:600},description:{fontWeight:300,lineHeight:"1.5rem"}}}));function wt(){var e=kt(),t=Object(q.c)((function(e){return e.studentProfileSlice.name})),n=Object(q.c)((function(e){return e.studentProfileSlice.imgSrc})),c=Object(q.c)((function(e){return e.studentProfileSlice.description})),r=Object(ft.b)().enqueueSnackbar,i=Object(q.b)();function s(){return(s=Object(y.a)(v.a.mark((function e(t){var n,a,c,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("avatar",t.target.files[0]),e.next=4,fetch("".concat("https://student-backend.b4e.vn","/student/change-avatar"),{method:"POST",headers:{Authorization:De()},body:n});case 4:if((a=e.sent).ok){e.next=12;break}return e.next=8,a.json();case 8:c=e.sent,r("Something went wrong: "+JSON.stringify(c),{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"}}),e.next=17;break;case 12:return e.next=14,a.json();case 14:s=e.sent,i(le(s)),r("C\u1eadp nh\u1eadt Avatar th\xe0nh c\xf4ng!",{variant:"success",anchorOrigin:{vertical:"bottom",horizontal:"right"}});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.jsxs)(S.a,{className:e.root,children:[Object(a.jsxs)("label",{htmlFor:"avatar",children:[Object(a.jsx)("input",{type:"file",accept:"image/*",id:"avatar",style:{display:"none"},onChange:function(e){return s.apply(this,arguments)}}),Object(a.jsx)(C.a,{src:n,className:e.avatar})]}),Object(a.jsx)(ut.a,{className:e.paper,children:Object(a.jsxs)(S.a,{textAlign:"center",px:3,pb:3,pt:"96px",children:[Object(a.jsx)(N.a,{variant:"h5",gutterBottom:!0,children:"Sinh vi\xean \u0110\u1ea1i h\u1ecdc"}),Object(a.jsx)(N.a,{variant:"h3",gutterBottom:!0,className:e.name,children:t||"Nguyen Van A"}),Object(a.jsx)(N.a,{variant:"body2",className:e.description,children:c||"Quisque laoreet, sem a cursus blandit, lectus libero vestibulum purus, id malesuada risus sem id nulla. Curabitur suscipit, dolor at imperdiet dapibus, arcu massa semper enim, vitae consectetur nulla leo blandit nisi. Duis aliquam non turpis sit amet pellentesque. Sed arcu neque, sollicitudin vel ultricies"})]})})]})}function St(){return Object(a.jsx)("div",{children:Object(a.jsx)(bt,{title:"Th\xf4ng tin c\xe1 nh\xe2n",children:Object(a.jsxs)(Ye.a,{container:!0,spacing:4,children:[Object(a.jsx)(Ye.a,{item:!0,xs:12,md:8,children:Object(a.jsx)(yt,{})}),Object(a.jsx)(Ye.a,{item:!0,xs:12,md:4,children:Object(a.jsx)(wt,{})})]})})})}function Ct(e){return Object(a.jsx)("div",{})}var Nt=n(334),Tt=n(335),Pt=n(336),At=n(337),Dt=n(338),Wt=n(339),Kt=n(236),Ht=n.n(Kt),zt=Object(b.a)((function(e){return{root:{},head:{padding:e.spacing(2),backgroundColor:e.palette.primary.main,color:"white"}}}));function It(e){var t=zt(),n=Object(q.c)((function(e){return e.sawtoothAccountsSlice.accounts})),c=Object(q.b)(),r=Object(ft.b)().enqueueSnackbar;function i(){return(i=Object(y.a)(v.a.mark((function e(t){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://student-backend.b4e.vn","/student/sawtooth-accounts"),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:De()},body:JSON.stringify({publicKeyHex:t})});case 2:n=e.sent,a=n.json(),n.ok?(c(xe({publicKeyHex:t})),r("X\xf3a t\xe0i kho\u1ea3n th\xe0nh c\xf4ng!",{variant:"success",anchorOrigin:{vertical:"bottom",horizontal:"center"}})):r("Something went wrong: "+JSON.stringify(a),{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"}});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.jsxs)(ut.a,{children:[Object(a.jsx)(N.a,{variant:"h3",className:t.head,children:"Danh s\xe1ch c\xe1c t\xe0i kho\u1ea3n"}),Object(a.jsx)(T.a,{}),Object(a.jsx)(S.a,{pt:1,children:Object(a.jsx)(Nt.a,{children:Object(a.jsxs)(Tt.a,{size:"small",children:[Object(a.jsx)(Pt.a,{children:Object(a.jsxs)(At.a,{children:[Object(a.jsx)(Dt.a,{children:"#"}),Object(a.jsx)(Dt.a,{children:"Public key"}),Object(a.jsx)(Dt.a,{children:"Private key"}),Object(a.jsx)(Dt.a,{children:"Ghi ch\xfa"}),Object(a.jsx)(Dt.a,{align:"center",children:"X\xf3a"})]})}),Object(a.jsx)(Wt.a,{children:n.map((function(e,t){var n=e.publicKeyHex.slice(0,30)+"..."+e.publicKeyHex.slice(-30);return Object(a.jsxs)(At.a,{children:[Object(a.jsx)(Dt.a,{children:t+1}),Object(a.jsx)(Dt.a,{children:n}),Object(a.jsx)(Dt.a,{children:e.privateKeyHex?"*".repeat(e.privateKeyHex.length):"Kh\xf4ng l\u01b0u"}),Object(a.jsx)(Dt.a,{children:e.note}),Object(a.jsx)(Dt.a,{align:"center",children:Object(a.jsx)(U.a,{onClick:function(t){return function(e){return i.apply(this,arguments)}(e.publicKeyHex)},children:Object(a.jsx)(Ht.a,{})})})]},t)}))})]})})})]})}var Bt=Object(b.a)((function(e){return{root:{},head:{padding:e.spacing(2),backgroundColor:e.palette.primary.main,color:"white"},subtitle:{marginBottom:e.spacing(3)}}}));function Et(e){var t=Bt(),n=Object(c.useState)({publicKeyHex:"",privateKeyHex:"",note:""}),r=Object(k.a)(n,2),i=r[0],s=r[1],o=Object(ft.b)().enqueueSnackbar,l=Object(q.b)();function j(){return(j=Object(y.a)(v.a.mark((function e(t){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.preventDefault(),""!==i.publicKeyHex){e.next=5;break}return o("Public key is require!",{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"}}),e.abrupt("return");case 5:return e.next=7,fetch("".concat("https://student-backend.b4e.vn","/student/sawtooth-accounts"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:De()},body:JSON.stringify(i)});case 7:if((n=e.sent).ok){e.next=15;break}return e.next=11,n.json();case 11:a=e.sent,o("Something went wrong: "+JSON.stringify(a),{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"}}),e.next=18;break;case 15:l(pe(i)),s({publicKeyHex:"",privateKeyHex:"",note:""}),o("Th\xeam t\xe0i kho\u1ea3n th\xe0nh c\xf4ng!",{variant:"success",anchorOrigin:{vertical:"bottom",horizontal:"center"}});case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),alert(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})))).apply(this,arguments)}return Object(a.jsxs)(ut.a,{children:[Object(a.jsx)(N.a,{variant:"h3",className:t.head,children:"Th\xeam t\xe0i kho\u1ea3n"}),Object(a.jsxs)(S.a,{px:2,py:3,children:[Object(a.jsx)(N.a,{variant:"h5",className:t.subtitle,children:"Th\xeam t\xe0i kho\u1ea3n b\u1eb1ng public/private key"}),Object(a.jsxs)(Ye.a,{container:!0,spacing:4,alignItems:"flex-end",children:[Object(a.jsx)(Ye.a,{item:!0,xs:12,md:4,children:Object(a.jsx)(Ze.a,{label:"Public key",InputLabelProps:{shrink:!0},fullWidth:!0,value:i.publicKeyHex,onChange:function(e){return s(Object(z.a)(Object(z.a)({},i),{},{publicKeyHex:e.target.value}))}})}),Object(a.jsx)(Ye.a,{item:!0,xs:12,md:4,children:Object(a.jsx)(Ze.a,{label:"Private key (optional)",InputLabelProps:{shrink:!0},InputProps:{type:"password"},fullWidth:!0,value:i.privateKeyHex,onChange:function(e){return s(Object(z.a)(Object(z.a)({},i),{},{privateKeyHex:e.target.value}))}})}),Object(a.jsx)(Ye.a,{item:!0,xs:12,md:2,children:Object(a.jsx)(Ze.a,{label:"Ghi ch\xfa",InputLabelProps:{shrink:!0},fullWidth:!0,value:i.note,onChange:function(e){return s(Object(z.a)(Object(z.a)({},i),{},{note:e.target.value}))}})}),Object(a.jsx)(Ye.a,{item:!0,xs:12,md:2,children:Object(a.jsx)(S.a,{textAlign:"right",children:Object(a.jsx)(M.a,{variant:"contained",color:"primary",onClick:function(e){return j.apply(this,arguments)},children:"Th\xeam t\xe0i kho\u1ea3n"})})})]})]})]})}var Mt=Object(b.a)((function(e){return{root:{"& > * ":{marginBottom:e.spacing(4)}}}}));function Gt(){var e=Mt(),t=Object(q.c)((function(e){return e.sawtoothAccountsSlice.fetching})),n=Object(q.b)();function r(){return(r=Object(y.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://student-backend.b4e.vn","/student/sawtooth-accounts"),{headers:{Authorization:De()}});case 3:if((t=e.sent).ok){e.next=14;break}return e.t0=alert,e.t1=JSON,e.next=9,t.json();case 9:e.t2=e.sent,e.t3=e.t1.stringify.call(e.t1,e.t2),(0,e.t0)(e.t3),e.next=18;break;case 14:return e.next=16,t.json();case 16:a=e.sent,n(he(a));case 18:e.next=24;break;case 20:e.prev=20,e.t4=e.catch(0),console.log(e.t4),alert(e.t4);case 24:case"end":return e.stop()}}),e,null,[[0,20]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){r.apply(this,arguments)}()}),[]),Object(a.jsx)(bt,{title:"Qu\u1ea3n l\xfd t\xe0i kho\u1ea3n",children:t?null:Object(a.jsxs)(S.a,{className:e.root,children:[Object(a.jsx)(It,{}),Object(a.jsx)(Et,{})]})})}var Ft=n(328),qt=n(341),Lt=n(329),Jt=n(342),Rt=n(330),_t=n(340),Qt=n(237),Vt=n.n(Qt),Ut=Object(b.a)((function(e){return{root:{padding:e.spacing(2),"& .MuiTypography-gutterBottom":{marginBottom:0}}}}));function Xt(e){var t=Ut(),n=Object(q.c)((function(e){return e.shareCertificateSlice.decryptedDataOfAccount})),r=Object(c.useState)(null),i=Object(k.a)(r,2),s=i[0],o=i[1],l=Object(ft.b)().enqueueSnackbar;function j(){return(j=Object(y.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.certificate.versions[0].active){e.next=3;break}return l("Kh\xf4ng th\u1ec3 chia s\u1ebb b\u1eb1ng c\u1ea5p \u0111\xe3 b\u1ecb thu h\u1ed3i!",{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"}}),e.abrupt("return");case 3:return e.next=5,fetch("".concat("https://student-backend.b4e.vn","/student/gen-token"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:De()},body:JSON.stringify(n)});case 5:return t=e.sent,e.next=8,t.json();case 8:a=e.sent,t.ok?o(a.token):l("Something went wrong: "+JSON.stringify(a),{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"}});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.jsxs)(ut.a,{className:t.root,children:[Object(a.jsxs)(S.a,{display:"flex",alignItems:"center",children:[Object(a.jsx)(S.a,{flexGrow:1,children:Object(a.jsx)(nt.a,{severity:"success",children:Object(a.jsx)(_t.a,{children:"Gi\u1ea3i m\xe3 d\u1eef li\u1ec7u b\u1ea3n m\xe3 th\xe0nh c\xf4ng!"})})}),n.certificate&&Object(a.jsx)(S.a,{pl:2,flexShrink:0,children:Object(a.jsx)(M.a,{variant:"contained",color:"primary",onClick:function(){return j.apply(this,arguments)},children:"Chia s\u1ebb"})})]}),Object(a.jsx)(Yt,{token:s,setToken:o})]})}function Yt(e){var t=e.token,n=e.setToken;return Object(a.jsxs)(Ft.a,{open:Boolean(t),onClose:function(e){return n(null)},children:[Object(a.jsx)(qt.a,{children:"Token"}),Object(a.jsx)(Lt.a,{children:Object(a.jsxs)(Jt.a,{style:{wordWrap:"break-word"},children:[t," "]})}),Object(a.jsxs)(Rt.a,{children:[Object(a.jsx)(M.a,{color:"primary",onClick:function(e){navigator.clipboard.writeText(t),n(null)},children:"Copy"}),Object(a.jsx)(M.a,{color:"primary",onClick:function(e){var a=new Blob([t],{type:"text/plain;charset=utf-8"});Vt.a.saveAs(a,"B4E-Certificate-Token.jwt"),n(null)},children:"Download"})]})]})}var $t=Object(b.a)((function(e){return{root:{padding:e.spacing(2),"& .MuiTypography-gutterBottom":{marginBottom:0}}}}));function Zt(e){var t=$t(),n=Object(q.c)((function(e){return e.shareCertificateSlice.currentSelectedAccount})),c=Object(q.c)((function(e){return e.shareCertificateSlice.encryptedDataOfAccount})),r=Object(q.b)(),i=Object(ft.b)().enqueueSnackbar;function s(){return(s=Object(y.a)(v.a.mark((function e(){var t,a,s,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.privateKey){e.next=12;break}return i("H\xe3y m\u1edf v\xed v\xe0 ch\u1ecdn t\xe0i kho\u1ea3n!",{variant:"info",anchorOrigin:{vertical:"top",horizontal:"center"}}),e.next=5,o();case 5:if((a=e.sent).ok){e.next=11;break}return i("B\u1ea1n c\u1ea7n cung c\u1ea5p private key \u0111\u1ec3 c\xf3 th\u1ec3 gi\u1ea3i m\xe3!",{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"}}),e.abrupt("return");case 11:t=a.privateKeyHex;case 12:return e.next=14,fetch("".concat("https://student-backend.b4e.vn","/student/decrypt-data"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:De()},body:JSON.stringify({encryptData:c,privateKeyHex:t})});case 14:return s=e.sent,e.next=17,s.json();case 17:l=e.sent,s.ok?r(we(l)):console.log(l);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(){return l.apply(this,arguments)}function l(){return(l=Object(y.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){window.postMessage({type:"SIGN_REQUEST"},window.origin),window.addEventListener("message",(function(t){if("SIGN_RESPONSE"===t.data.type&&t.origin===window.origin)return t.data.accept?e({ok:!0,privateKeyHex:t.data.account.privateKey}):e({ok:!1})}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.jsx)(ut.a,{className:t.root,children:Object(a.jsxs)(S.a,{display:"flex",alignItems:"center",children:[Object(a.jsx)(S.a,{flexGrow:1,children:Object(a.jsx)(nt.a,{severity:"success",children:Object(a.jsx)(_t.a,{children:"L\u1ea5y d\u1eef li\u1ec7u b\u1ea3n m\xe3 th\xe0nh c\xf4ng!"})})}),Object(a.jsx)(S.a,{pl:2,flexShrink:0,children:Object(a.jsx)(M.a,{variant:"contained",color:"primary",onClick:function(){return s.apply(this,arguments)},children:"Gi\u1ea3i m\xe3"})})]})})}var en=n(343),tn=n(240),nn=n.n(tn),an=n(241),cn=n.n(an);function rn(e){return Object(a.jsxs)($e.a,{target:"_blank",href:"".concat("https://explorer.b4e.vn","/#/transactions/").concat(e),children:[e.slice(0,30),"..."]})}var sn=Object(b.a)((function(e){return{root:{padding:e.spacing(0,2,2,2)}}}));function on(e){var t=sn(),n=Object(q.c)((function(e){var t,n;return null===(t=e.shareCertificateSlice.decryptedDataOfAccount)||void 0===t||null===(n=t.certificate)||void 0===n?void 0:n.versions}));return Object(a.jsx)("div",{children:Object(a.jsxs)(ut.a,{className:t.root,children:[!n&&Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(S.a,{pt:2,pb:1,children:[Object(a.jsx)(N.a,{variant:"h4",gutterBottom:!0,children:"Th\xf4ng tin b\u1eb1ng c\u1ea5p"}),Object(a.jsx)(T.a,{}),Object(a.jsx)(N.a,{style:{paddingTop:"8px"},children:"Ch\u01b0a c\xf3 b\u1eb1ng c\u1ea5p!"})]})}),n&&n[0]&&Object(a.jsx)(ln,{cert:n[0]})]})})}function ln(e){var t=e.cert;console.log(t);var n=function(e,t){var n=rn(t.txid),a={"H\u1ecd v\xe0 t\xean":e.name,"Ng\xe0y sinh":e.birthday,"Gi\u1edbi t\xednh":e.gender,"Tr\u01b0\u1eddng":e.university,"Ng\xe0nh h\u1ecdc":e.faculty,"Lo\u1ea1i b\u1eb1ng":e.degree,"N\u0103m t\u1ed1t nghi\u1ec7p":e.gradyear},c={"X\u1ebfp lo\u1ea1i":e.level,"H\xecnh th\u1ee9c \u0111\xe0o t\u1ea1o":e.eduform,"N\u01a1i c\u1ea5p":e.issuelocation,"Ng\xe0y c\u1ea5p":e.issuedate,"Hi\u1ec7u tr\u01b0\u1edfng":e.headmaster,"S\u1ed1 hi\u1ec7u v\xe0o s\u1ed5":e.globalregisno,Txid:n};return[a,c]}(t.plain,t),c=Object(k.a)(n,2),r=c[0],i=c[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(S.a,{pt:2,pb:1,display:"flex",justifyContent:"space-between",alignItems:"center",children:[Object(a.jsx)(N.a,{variant:"h4",children:"Th\xf4ng tin b\u1eb1ng c\u1ea5p"}),t.active&&Object(a.jsx)(en.a,{title:"B\u1eb1ng c\u1ea5p h\u1ee3p l\u1ec7, s\u1eb5n s\xe0ng \u0111\u1ec3 chia s\u1ebb",children:Object(a.jsx)(nn.a,{color:"primary",size:"1rem"})}),!t.active&&Object(a.jsx)(en.a,{title:"B\u1eb1ng c\u1ea5p \u0111\xe3 b\u1ecb thu h\u1ed3i!",children:Object(a.jsx)(cn.a,{color:"secondary",size:"1rem"})})]}),Object(a.jsx)(T.a,{}),Object(a.jsxs)(Ye.a,{container:!0,children:[Object(a.jsx)(Ye.a,{item:!0,sm:12,md:6,children:Object(a.jsx)(jn,{rows:r})}),Object(a.jsx)(Ye.a,{item:!0,sm:12,md:6,children:Object(a.jsx)(jn,{rows:i})})]})]})}function jn(e){var t=e.rows;return Object(a.jsx)(Nt.a,{children:Object(a.jsx)(Tt.a,{size:"small",children:Object(a.jsx)(Wt.a,{children:Object.entries(t).map((function(e,t){return Object(a.jsxs)(At.a,{children:[Object(a.jsx)(Dt.a,{style:{width:"50%"},children:e[0]}),Object(a.jsx)(Dt.a,{children:e[1]})]},t)}))})})})}var bn=Object(b.a)((function(e){return{root:{padding:e.spacing(2)}}}));function dn(e){var t=bn(),n=Object(q.c)((function(e){return e.shareCertificateSlice.decryptedDataOfAccount.subjects}));return Object(a.jsx)("div",{children:Object(a.jsxs)(ut.a,{className:t.root,children:[Object(a.jsx)(N.a,{gutterBottom:!0,variant:"h4",children:"Th\xf4ng tin b\u1ea3ng \u0111i\u1ec3m"}),Object(a.jsx)(T.a,{}),Object(a.jsx)(Nt.a,{children:Object(a.jsxs)(Tt.a,{size:"small",children:[Object(a.jsx)(Pt.a,{children:Object(a.jsxs)(At.a,{children:[Object(a.jsx)(Dt.a,{children:"K\xec h\u1ecdc"}),Object(a.jsx)(Dt.a,{children:"M\xe3 HP"}),Object(a.jsx)(Dt.a,{children:"T\xean HP"}),Object(a.jsx)(Dt.a,{children:"S\u1ed1 t\xedn ch\u1ec9"}),Object(a.jsx)(Dt.a,{children:"\u0110i\u1ec3m GK"}),Object(a.jsx)(Dt.a,{children:"\u0110i\u1ec3m CK"}),Object(a.jsx)(Dt.a,{children:"M\xe3 GV"}),Object(a.jsx)(Dt.a,{children:"T\xean GV"}),Object(a.jsx)(Dt.a,{children:"Txid"})]})}),Object(a.jsx)(Wt.a,{children:n.map((function(e,t){return Object(a.jsx)(r.a.Fragment,{children:e.versions.map((function(e,t){return Object(a.jsxs)(At.a,{children:[Object(a.jsx)(Dt.a,{children:e.plain.semester}),Object(a.jsx)(Dt.a,{children:e.plain.subject.subjectId}),Object(a.jsx)(Dt.a,{children:e.plain.subject.name}),Object(a.jsx)(Dt.a,{children:e.plain.subject.credit}),Object(a.jsx)(Dt.a,{children:e.plain.halfSemesterPoint}),Object(a.jsx)(Dt.a,{children:e.plain.finalSemesterPoint}),Object(a.jsx)(Dt.a,{children:e.plain.teacherId}),Object(a.jsx)(Dt.a,{children:e.plain.teacherName}),Object(a.jsx)(Dt.a,{children:rn(e.txid)})]},t)}))},t)}))})]})})]})})}var un=Object(b.a)((function(e){return{root:{padding:e.spacing(2)}}}));function hn(e){var t=un(),n=Object(q.c)((function(e){var t=e.shareCertificateSlice.encryptedDataOfAccount.certificate.versions;return t?t[0].cipher:Object(a.jsx)(N.a,{children:"Ch\u01b0a c\xf3 b\u1eb1ng c\u1ea5p!"})}));return Object(a.jsx)("div",{children:Object(a.jsxs)(ut.a,{className:t.root,children:[Object(a.jsx)(S.a,{mb:1,children:Object(a.jsx)(N.a,{variant:"h4",children:"Th\xf4ng tin b\u1eb1ng c\u1ea5p (d\u1ea1ng m\xe3 h\xf3a)"})}),Object(a.jsx)(T.a,{}),Object(a.jsx)(S.a,{mt:2,style:{wordWrap:"break-word"},children:n})]})})}var pn=Object(b.a)((function(e){return{root:{padding:e.spacing(2)}}}));function xn(e){var t=pn(),n=Object(q.c)((function(e){return e.shareCertificateSlice.encryptedDataOfAccount.subjects}));return Object(a.jsx)("div",{children:Object(a.jsxs)(ut.a,{className:t.root,children:[Object(a.jsx)(S.a,{mb:1,children:Object(a.jsx)(N.a,{variant:"h4",children:"Th\xf4ng tin b\u1ea3ng \u0111i\u1ec3m (d\u1ea1ng m\xe3 h\xf3a)"})}),Object(a.jsx)(T.a,{}),Object(a.jsx)(S.a,{mt:2,children:n.map((function(e,t){return Object(a.jsx)(r.a.Fragment,{children:e.versions.map((function(e,t){return Object(a.jsx)(S.a,{mt:2,style:{wordWrap:"break-word"},children:e.cipher},t)}))},t)}))})]})})}var On=n(351),gn=Object(b.a)((function(e){return{root:{padding:e.spacing(2,2)}}}));function mn(e){var t=gn(),n=Object(q.c)((function(e){return e.sawtoothAccountsSlice.accounts})),c=Object(q.c)((function(e){return e.shareCertificateSlice.currentSelectedAccount})),r=Object(q.b)();function i(){return(i=Object(y.a)(v.a.mark((function e(t,n){var a,c,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n){e.next=4;break}r(ke()),e.next=12;break;case 4:return a=n.publicKeyHex,e.next=7,fetch("".concat("https://student-backend.b4e.vn","/student/encrypted-data?publicKeyHex=").concat(a),{headers:{"Content-Type":"application/json",Authorization:De()}});case 7:return c=e.sent,e.next=10,c.json();case 10:i=e.sent,c.ok?r(ye({currentSelectedAccount:n,encryptedDataOfAccount:i})):console.log(i);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.jsx)(ut.a,{className:t.root,children:Object(a.jsx)(On.a,{size:"small",renderInput:function(e){return Object(a.jsx)(Ze.a,Object(z.a)(Object(z.a)({},e),{},{label:"Ch\u1ecdn t\xe0i kho\u1ea3n",variant:"outlined"}))},options:n,getOptionLabel:function(e){return"".concat(e.publicKeyHex.slice(0,30)+"..."+e.publicKeyHex.slice(-30)," - ").concat(e.note)},value:c,getOptionSelected:function(e,t){return e.publicKeyHex===t.publicKeyHex},onChange:function(e,t){return i.apply(this,arguments)}})})}var fn=Object(b.a)((function(e){return{root:{"& > *":{margin:e.spacing(2,0)}}}}));function vn(e){var t=fn(),n=Object(q.c)((function(e){return e.shareCertificateSlice.show}));return Object(a.jsx)(bt,{title:"Chia s\u1ebb b\u1eb1ng c\u1ea5p",children:Object(a.jsxs)(S.a,{className:t.root,children:[Object(a.jsx)(mn,{}),"encrypt"===n&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Zt,{}),Object(a.jsx)(hn,{}),Object(a.jsx)(xn,{})]}),"decrypt"===n&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Xt,{}),Object(a.jsx)(on,{}),Object(a.jsx)(dn,{})]})]})})}function yn(e){return De()?Object(a.jsx)(l.a,{to:"/nh/thong-tin-ca-nhan"}):Object(a.jsx)(l.a,{to:"/dang-ki"})}var kn=[{path:"/nh",element:Object(a.jsx)(Ge,{}),children:[{path:"thong-tin-ca-nhan",element:Object(a.jsx)(St,{})},{path:"quan-ly-tai-khoan",element:Object(a.jsx)(Gt,{})},{path:"chia-se-bang-cap",element:Object(a.jsx)(vn,{})},{path:"*",element:Object(a.jsx)(l.a,{to:"/404",replace:!0})}]},{path:"test",element:Object(a.jsx)(Ct,{})},{path:"/",element:Object(a.jsx)(Je,{}),children:[{path:"dang-ki",element:Object(a.jsx)(rt,{})},{path:"dang-nhap",element:Object(a.jsx)(jt,{})},{path:"404",element:Object(a.jsx)(Ue,{})},{path:"/",element:Object(a.jsx)(yn,{})},{path:"*",element:Object(a.jsx)(l.a,{to:"/404"})}]}],wn=function(){var e=Object(l.i)(kn);return Object(a.jsxs)(j.a,{theme:m,children:[Object(a.jsx)(h,{}),Object(a.jsx)(q.a,{store:Ce,children:Object(a.jsx)(ft.a,{maxSnack:1,children:e})})]})};s.a.render(Object(a.jsx)(o.a,{children:Object(a.jsx)(wn,{})}),document.getElementById("root"))}},[[270,1,2]]]);
//# sourceMappingURL=main.bc0341af.chunk.js.map