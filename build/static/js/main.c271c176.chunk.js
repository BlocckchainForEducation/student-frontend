(this.webpackJsonpstudent_frontend=this.webpackJsonpstudent_frontend||[]).push([[0],{269:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),r=n.n(c),i=n(15),o=n.n(i),s=n(21),l=(n(260),n(14)),j=n(341),b=n(270),u=n(250),h=Object(b.a)((function(){return Object(u.a)({"@global":{"*":{boxSizing:"border-box",margin:0,padding:0},html:{"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",height:"100%",width:"100%"},body:{backgroundColor:"#f4f6f8",height:"100%",width:"100%"},a:{textDecoration:"none"},"#root":{height:"100%",width:"100%"}}})})),d=function(){return h(),null},p=n(242),x=n(17),O=Object(p.a)({palette:{background:{dark:"#F4F6F8",default:x.a.common.white,paper:x.a.common.white},text:{primary:x.a.blueGrey[900],secondary:x.a.blueGrey[600]}},shadows:["none","0 0 0 1px rgba(63,63,68,0.05), 0 1px 2px 0 rgba(63,63,68,0.15)","0 0 1px 0 rgba(0,0,0,0.31), 0 2px 2px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 5px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 8px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 9px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 10px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 11px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 12px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 13px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 14px 24px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 16px 28px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 18px 30px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 20px 32px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 22px 34px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 24px 36px -8px rgba(0,0,0,0.25)"],typography:{h1:{fontWeight:500,fontSize:35,letterSpacing:"-0.24px"},h2:{fontWeight:500,fontSize:29,letterSpacing:"-0.24px"},h3:{fontWeight:500,fontSize:24,letterSpacing:"-0.06px"},h4:{fontWeight:500,fontSize:20,letterSpacing:"-0.06px"},h5:{fontWeight:500,fontSize:16,letterSpacing:"-0.05px"},h6:{fontWeight:500,fontSize:14,letterSpacing:"-0.05px"},overline:{fontWeight:500}}}),g=n(16),m=n.n(g),f=n(19),v=n(23),y=n(117),k=n(343),w=n(348),S=n(82),C=n(309),N=n(272),T=n(346),P=n(311),A=n(306),D=n(307),W=n(308),K=n(8),H=n(56),z=n(3),I=n(271),B=n(305),E=Object(b.a)((function(e){return{item:{display:"flex",paddingTop:0,paddingBottom:0},button:{color:e.palette.text.secondary,fontWeight:e.typography.fontWeightMedium,justifyContent:"flex-start",letterSpacing:0,padding:"10px 8px",textTransform:"none",width:"100%"},icon:{marginRight:e.spacing(1)},title:{marginRight:"auto"},active:{color:e.palette.primary.main,"& $title":{fontWeight:e.typography.fontWeightMedium},"& $icon":{color:e.palette.primary.main}}}})),M=function(e){var t=e.className,n=e.href,c=e.icon,r=e.title,i=Object(H.a)(e,["className","href","icon","title"]),o=E();return Object(a.jsx)(I.a,Object(K.a)(Object(K.a)({className:Object(z.a)(o.item,t),disableGutters:!0},i),{},{children:Object(a.jsxs)(B.a,{activeClassName:o.active,className:o.button,component:s.c,to:n,children:[c&&Object(a.jsx)(c,{className:o.icon,size:"20"}),Object(a.jsx)("span",{className:o.title,children:r})]})}))},G=n(12),F=[{href:"/nh/thong-tin-ca-nhan",icon:A.a,title:"Th\xf4ng tin c\xe1 nh\xe2n"},{href:"/nh/quan-ly-tai-khoan",icon:D.a,title:"Qu\u1ea3n l\xfd t\xe0i kho\u1ea3n"},{href:"/nh/chia-se-bang-cap",icon:W.a,title:"Chia s\u1ebb b\u1eb1ng c\u1ea5p"}],q=Object(b.a)((function(){return{mobileDrawer:{width:256},desktopDrawer:{width:256,top:64,height:"calc(100% - 64px)"},avatar:{cursor:"pointer",width:64,height:64}}})),L=function(e){var t=e.onMobileClose,n=e.openMobile,r=q(),i=Object(l.f)(),o=Object(G.c)((function(e){return e.studentProfileSlice}));Object(c.useEffect)((function(){n&&t&&t()}),[i.pathname]);var j=Object(a.jsxs)(k.a,{height:"100%",display:"flex",flexDirection:"column",children:[Object(a.jsxs)(k.a,{alignItems:"center",display:"flex",flexDirection:"column",p:2,children:[Object(a.jsx)(w.a,{className:r.avatar,component:s.b,src:o.imgSrc,to:"/nh/thong-tin-ca-nhan"}),Object(a.jsx)(S.a,{className:r.name,color:"textPrimary",variant:"h5",children:o.name}),Object(a.jsx)(S.a,{color:"textSecondary",variant:"body2",children:o.level||"Sinh vi\xean \u0110\u1ea1i h\u1ecdc"})]}),Object(a.jsx)(C.a,{}),Object(a.jsx)(k.a,{p:2,children:Object(a.jsx)(N.a,{children:F.map((function(e){return Object(a.jsx)(M,{href:e.href,title:e.title,icon:e.icon},e.title)}))})}),Object(a.jsx)(k.a,{flexGrow:1})]});return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(T.a,{lgUp:!0,children:Object(a.jsx)(P.a,{anchor:"left",classes:{paper:r.mobileDrawer},onClose:t,open:n,variant:"temporary",children:j})}),Object(a.jsx)(T.a,{mdDown:!0,children:Object(a.jsx)(P.a,{anchor:"left",classes:{paper:r.desktopDrawer},open:!0,variant:"persistent",children:j})})]})};L.defaultProps={onMobileClose:function(){},openMobile:!1};var J=L,R=n(313),_=n(314),Q=n(315),V=n(316),U=n(227),X=n.n(U),Y=n(228),$=n.n(Y),Z=n(226),ee=n.n(Z),te=function(e){return Object(a.jsx)("img",Object(K.a)({alt:"Logo",src:"/static/logo.svg"},e))},ne=n(39),ae=n(67),ce=Object(ae.createSlice)({name:"studentProfileSlice",initialState:{fetching:!0},reducers:{setProfile:function(e,t){Object.assign(e,t.payload),e.fetching=!1},updateImgSrc:function(e,t){e.imgSrc=t.payload}}}),re=ce.actions,ie=re.setProfile,oe=re.updateImgSrc,se=ce.reducer,le=(0,n(67).createSlice)({name:"sawtoothAccountsSlice",initialState:{fetching:!0,accounts:[]},reducers:{setFetchedAccounts:function(e,t){e.fetching=!1,e.accounts=t.payload},addSawtoothAccount:function(e,t){var n=t.payload;""===n.privateKeyHex&&(n.privateKeyHex=!1),e.accounts.push(n)},deleteSawtoothAccount:function(e,t){e.accounts=e.accounts.filter((function(e){return e.publicKeyHex!==t.payload.publicKeyHex}))}}}),je=le.reducer,be=le.actions,ue=be.setFetchedAccounts,he=be.addSawtoothAccount,de=be.deleteSawtoothAccount,pe=n(67).createSlice,xe={currentSelectedAccount:null,show:"none",encryptedDataOfAccount:{publicKeyHex:"",certificate:{address:"",versions:[{txid:"",timestamp:1234,active:"",cipher:""}]},subjects:[{address:"",versions:[{txid:"",timestamp:1234,active:"",cipher:""}]},{}]},decryptedDataOfAccount:{publicKeyHex:"",certificate:{address:"",versions:[{txid:"",timestamp:1234,active:"",plain:""}]},subjects:[{address:"",versions:[{txid:"",timestamp:1234,active:"",plain:""}]},{}]}},Oe=pe({name:"shareCertificateSlice",initialState:xe,reducers:{resetState:function(e,t){Object.assign(e,xe)},updateEncryptedState:function(e,t){e.show="encrypt",e.currentSelectedAccount=t.payload.currentSelectedAccount,e.encryptedDataOfAccount=t.payload.encryptedDataOfAccount},updateDecryptedState:function(e,t){e.show="decrypt",e.decryptedDataOfAccount=t.payload}}}),ge=Oe.reducer,me=Oe.actions,fe=me.updateEncryptedState,ve=me.resetState,ye=me.updateDecryptedState,ke=Object(ne.d)({studentProfileSlice:se,sawtoothAccountsSlice:je,shareCertificateSlice:ge}),we=Object(ae.configureStore)({reducer:function(e,t){return"RESET_STORE"===t.type&&(e=void 0),ke(e,t)}});var Se=!0;function Ce(e){Se=e}function Ne(e){sessionStorage.setItem("token","Bearer "+e)}function Te(e){localStorage.setItem("token","Bearer "+e)}function Pe(){return Se?localStorage.getItem("token"):sessionStorage.getItem("token")}var Ae=Object(b.a)((function(){return{root:{},avatar:{width:60,height:60}}})),De=function(e){var t=e.className,n=e.onMobileNavOpen,r=Object(H.a)(e,["className","onMobileNavOpen"]),i=Ae(),o=Object(c.useState)([]),j=Object(v.a)(o,1)[0],b=Object(l.g)(),u=Object(G.b)();return Object(a.jsx)(R.a,Object(K.a)(Object(K.a)({className:Object(z.a)(i.root,t),elevation:0},r),{},{children:Object(a.jsxs)(_.a,{children:[Object(a.jsx)(s.b,{to:"/",children:Object(a.jsx)(te,{})}),Object(a.jsx)(k.a,{flexGrow:1}),Object(a.jsxs)(T.a,{mdDown:!0,children:[Object(a.jsx)(Q.a,{color:"inherit",children:Object(a.jsx)(V.a,{badgeContent:j.length,color:"primary",variant:"dot",children:Object(a.jsx)(ee.a,{})})}),Object(a.jsx)(Q.a,{color:"inherit",onClick:function(e){sessionStorage.removeItem("role"),localStorage.removeItem("role"),Se?localStorage.removeItem("token"):sessionStorage.removeItem("token"),u({type:"RESET_STORE"}),b("/")},children:Object(a.jsx)(X.a,{})})]}),Object(a.jsx)(T.a,{lgUp:!0,children:Object(a.jsx)(Q.a,{color:"inherit",onClick:n,children:Object(a.jsx)($.a,{})})})]})}))},We=n(317),Ke=Object(b.a)((function(e){return{root:{height:"100vh",display:"grid",gridTemplateColumns:"1fr",gridTemplateRows:"64px auto",rowGap:"5px","& *":{height:"100%"}},main:{display:"grid",gridTemplateColumns:"256px auto",columnGap:"5px"},sidebar:{display:"grid",gridTemplateColumns:"1fr",gridTemplateRows:"128px auto",rowGap:"5px"}}}));function He(e){var t=Ke();return Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsx)("div",{className:t.topbar,children:Object(a.jsx)(We.a,{variant:"rect"})}),Object(a.jsxs)("div",{className:t.main,children:[Object(a.jsxs)("div",{className:t.sidebar,children:[Object(a.jsx)("div",{className:t.info,children:Object(a.jsx)(We.a,{variant:"rect"})}),Object(a.jsx)("div",{className:t.navlink,children:Object(a.jsx)(We.a,{variant:"rect"})})]}),Object(a.jsx)("div",{className:t.content,children:Object(a.jsx)(We.a,{variant:"rect"})})]})]})}var ze=n(229),Ie=n.n(ze),Be=Object(b.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,display:"flex",height:"100%",overflow:"hidden",width:"100%"},wrapper:Object(y.a)({display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64},e.breakpoints.up("lg"),{paddingLeft:256}),contentContainer:{display:"flex",flex:"1 1 auto",overflow:"hidden"},content:{flex:"1 1 auto",height:"100%",overflow:"auto"}}})),Ee=function(){var e=Be(),t=Object(c.useState)(!1),n=Object(v.a)(t,2),r=n[0],i=n[1],o=Object(G.c)((function(e){return e.studentProfileSlice.fetching})),s=Object(G.b)();function j(){return(j=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("http://139.59.125.235:8001","/student/profile"),{headers:{Authorization:Pe()}});case 3:if((t=e.sent).ok){e.next=14;break}return e.t0=alert,e.t1=JSON,e.next=9,t.json();case 9:e.t2=e.sent,e.t3=e.t1.stringify.call(e.t1,e.t2),(0,e.t0)(e.t3),e.next=21;break;case 14:return e.t4=s,e.t5=ie,e.next=18,t.json();case 18:e.t6=e.sent,e.t7=(0,e.t5)(e.t6),(0,e.t4)(e.t7);case 21:e.next=27;break;case 23:e.prev=23,e.t8=e.catch(0),console.log(e.t8),alert(e.t8);case 27:case"end":return e.stop()}}),e,null,[[0,23]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){j.apply(this,arguments)}()}),[]),Object(a.jsx)(a.Fragment,{children:o?Object(a.jsx)(He,{}):Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(De,{onMobileNavOpen:function(){return i(!0)}}),Object(a.jsx)(J,{onMobileClose:function(){return i(!1)},openMobile:r}),Object(a.jsx)("div",{className:e.wrapper,children:Object(a.jsx)("div",{className:e.contentContainer,children:Object(a.jsx)("div",{className:e.content,children:Object(a.jsx)(Ie.a,{children:Object(a.jsx)(l.b,{})})})})})]})})})},Me=Object(b.a)({root:{},toolbar:{height:64}}),Ge=function(e){var t=e.className,n=Object(H.a)(e,["className"]),c=Me();return Object(a.jsx)(R.a,Object(K.a)(Object(K.a)({className:Object(z.a)(c.root,t),elevation:0},n),{},{children:Object(a.jsx)(_.a,{className:c.toolbar,children:Object(a.jsx)(s.b,{to:"/",children:Object(a.jsx)(te,{})})})}))},Fe=Object(b.a)((function(e){return{root:{backgroundColor:e.palette.background.default,display:"flex",height:"100%",overflow:"hidden",width:"100%"},wrapper:{display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64},contentContainer:{display:"flex",flex:"1 1 auto",overflow:"hidden"},content:{flex:"1 1 auto",height:"100%",overflow:"auto"}}})),qe=function(){var e=Fe();return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(Ge,{}),Object(a.jsx)("div",{className:e.wrapper,children:Object(a.jsx)("div",{className:e.contentContainer,children:Object(a.jsx)("div",{className:e.content,children:Object(a.jsx)(l.b,{})})})})]})},Le=n(318),Je=n(230),Re=Object(c.forwardRef)((function(e,t){var n=e.children,c=e.title,r=void 0===c?"":c,i=Object(H.a)(e,["children","title"]);return Object(a.jsxs)("div",Object(K.a)(Object(K.a)({ref:t},i),{},{children:[Object(a.jsx)(Je.a,{children:Object(a.jsx)("title",{children:r})}),n]}))})),_e=Object(b.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,height:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)},image:{marginTop:50,display:"inline-block",maxWidth:"100%",width:560}}})),Qe=function(){var e=_e();return Object(a.jsx)(Re,{className:e.root,title:"404",children:Object(a.jsx)(k.a,{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",children:Object(a.jsxs)(Le.a,{maxWidth:"md",children:[Object(a.jsx)(S.a,{align:"center",color:"textPrimary",variant:"h1",children:"404: The page you are looking for isn\u2019t here"}),Object(a.jsx)(S.a,{align:"center",color:"textPrimary",variant:"subtitle2",children:"You either tried some shady route or you came here by mistake. Whichever it is, try using the navigation"}),Object(a.jsx)(k.a,{textAlign:"center"})]})})})},Ve=n(320),Ue=n(321),Xe=n(319),Ye=n(322),$e=n(120),Ze=n.n($e),et=n(345);function tt(){return Object(a.jsxs)(S.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(a.jsx)(Xe.a,{component:s.b,to:"/",children:"B4E Website"})," ",(new Date).getFullYear(),"."]})}var nt=Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},alert:{marginTop:e.spacing(3)},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function at(){var e=nt(),t=Object(c.useState)({email:"",password:"",repassword:""}),n=Object(v.a)(t,2),r=n[0],i=n[1],o=Object(c.useState)({}),j=Object(v.a)(o,2),b=j[0],u=j[1],h=Object(c.useState)(null),d=Object(v.a)(h,2),p=d[0],x=d[1],O=Object(l.g)();function g(){return(g=Object(f.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("".concat("http://139.59.125.235:8001","/acc/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 3:if((n=e.sent).ok){e.next=11;break}return e.next=7,n.json();case 7:a=e.sent,u(a),e.next=18;break;case 11:return e.next=13,n.json();case 13:Te(e.sent.token),u(null),x("\u0110\u0103ng k\xed t\xe0i kho\u1ea3n th\xe0nh c\xf4ng!"),setTimeout((function(){return O("/nh/thong-tin-ca-nhan")}),1e3);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.jsxs)(Le.a,{component:"main",maxWidth:"xs",children:[Object(a.jsx)(Ve.a,{}),Object(a.jsxs)("div",{className:e.paper,children:[Object(a.jsx)(w.a,{className:e.avatar,children:Object(a.jsx)(Ze.a,{})}),Object(a.jsx)(S.a,{component:"h1",variant:"h3",children:"\u0110\u0103ng k\xed t\xe0i kho\u1ea3n Ng\u01b0\u1eddi h\u1ecdc"}),Object(a.jsx)("div",{children:p?Object(a.jsx)(et.a,{className:e.alert,severity:"success",children:p}):null}),Object(a.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(a.jsxs)(Ue.a,{container:!0,spacing:2,children:[Object(a.jsx)(Ue.a,{item:!0,xs:12,children:Object(a.jsx)(Ye.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email",value:r.email,onChange:function(e){i(Object(K.a)(Object(K.a)({},r),{},{email:e.target.value})),u(null)},error:null===b||void 0===b?void 0:b.email,helperText:null===b||void 0===b?void 0:b.email,disabled:Boolean(p)})}),Object(a.jsx)(Ue.a,{item:!0,xs:12,children:Object(a.jsx)(Ye.a,{variant:"outlined",required:!0,fullWidth:!0,label:"M\u1eadt kh\u1ea9u",type:"password",id:"password",value:r.password,onChange:function(e){i(Object(K.a)(Object(K.a)({},r),{},{password:e.target.value})),u(null)},error:null===b||void 0===b?void 0:b.password,helperText:null===b||void 0===b?void 0:b.password,disabled:Boolean(p)})}),Object(a.jsx)(Ue.a,{item:!0,xs:12,children:Object(a.jsx)(Ye.a,{variant:"outlined",required:!0,fullWidth:!0,label:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u",type:"password",id:"rePassword",value:r.repassword,onChange:function(e){i(Object(K.a)(Object(K.a)({},r),{},{repassword:e.target.value})),u(null)},error:null===b||void 0===b?void 0:b.repassword,helperText:null===b||void 0===b?void 0:b.repassword,disabled:Boolean(p)})})]}),Object(a.jsx)(B.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){return g.apply(this,arguments)},children:"\u0110\u0103ng k\xed"}),Object(a.jsx)(Ue.a,{container:!0,justify:"flex-end",children:Object(a.jsx)(Ue.a,{item:!0,children:Object(a.jsx)(Xe.a,{component:s.b,to:"/dang-nhap",children:"B\u1ea1n \u0111\xe3 c\xf3 t\xe0i kho\u1ea3n r\u1ed3i? \u0110\u0103ng nh\u1eadp"})})})]})]}),Object(a.jsx)(k.a,{mt:5,children:Object(a.jsx)(tt,{})})]})}var ct=n(344),rt=n(323);function it(){return Object(a.jsxs)(S.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(a.jsx)(Xe.a,{component:s.b,to:"/",children:"B4E Website"})," ",(new Date).getFullYear(),"."]})}var ot=Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},alert:{marginTop:e.spacing(3)},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},link:{color:e.palette.primary.main}}}));function st(){var e=ot(),t=Object(c.useState)({email:"",password:"",remember:!0}),n=Object(v.a)(t,2),r=n[0],i=n[1],o=Object(c.useState)(null),j=Object(v.a)(o,2),b=j[0],u=j[1],h=Object(l.g)();function d(){return(d=Object(f.a)(m.a.mark((function e(t){var n,a,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("".concat("http://139.59.125.235:8001","/acc/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r.email,password:r.password})});case 3:if((n=e.sent).ok){e.next=11;break}return e.next=7,n.json();case 7:a=e.sent,u(a),e.next=16;break;case 11:return e.next=13,n.json();case 13:c=e.sent,r.remember?(Te(c.token),Ce(!0)):(Ne(c.token),Ce(!1)),h("/nh/thong-tin-ca-nhan");case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.jsxs)(Le.a,{component:"main",maxWidth:"xs",children:[Object(a.jsx)(Ve.a,{}),Object(a.jsxs)("div",{className:e.paper,children:[Object(a.jsx)(w.a,{className:e.avatar,children:Object(a.jsx)(Ze.a,{})}),Object(a.jsx)(S.a,{component:"h1",variant:"h3",children:"\u0110\u0103ng nh\u1eadp t\xe0i kho\u1ea3n Ng\u01b0\u1eddi h\u1ecdc"}),Object(a.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(a.jsx)(Ye.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",autoComplete:"email",autoFocus:!0,value:r.email,onChange:function(e){i(Object(K.a)(Object(K.a)({},r),{},{email:e.target.value})),u(Object(K.a)(Object(K.a)({},b),{},{email:null}))},error:null===b||void 0===b?void 0:b.email,helperText:null===b||void 0===b?void 0:b.email}),Object(a.jsx)(Ye.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"M\u1eadt kh\u1ea9u",type:"password",id:"password",autoComplete:"password",value:r.password,onChange:function(e){i(Object(K.a)(Object(K.a)({},r),{},{password:e.target.value})),u(Object(K.a)(Object(K.a)({},b),{},{password:null}))},error:null===b||void 0===b?void 0:b.password,helperText:null===b||void 0===b?void 0:b.password}),Object(a.jsx)(rt.a,{control:Object(a.jsx)(ct.a,{checked:r.remember,onChange:function(e){return i(Object(K.a)(Object(K.a)({},r),{},{remember:!r.remember}))},color:"primary"}),label:"Nh\u1edb \u0111\u0103ng nh\u1eadp"}),Object(a.jsx)(B.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){return d.apply(this,arguments)},children:"\u0110\u0103ng nh\u1eadp"}),Object(a.jsxs)(Ue.a,{container:!0,children:[Object(a.jsx)(Ue.a,{item:!0,xs:!0,children:Object(a.jsx)(Xe.a,{componet:s.b,to:"#",variant:"body2",children:"Qu\xean m\u1eadt kh\u1ea9u?"})}),Object(a.jsx)(Ue.a,{item:!0,children:Object(a.jsx)(Xe.a,{component:s.b,to:"/dang-ki",children:"Ch\u01b0a c\xf3 t\xe0i kho\u1ea3n? \u0110\u0103ng k\xed"})})]})]})]}),Object(a.jsx)(k.a,{mt:8,children:Object(a.jsx)(it,{})})]})}function lt(e){var t=e.children,n=e.title;return Object(a.jsx)("div",{children:Object(a.jsx)(Re,{title:n,children:Object(a.jsx)(Le.a,{children:Object(a.jsx)(k.a,{py:3,children:t})})})})}var jt=n(241),bt=n(90),ut=n(277),ht=n(278),dt=n(290),pt=n(329),xt=n(27),Ot=n(342),gt=n(31),mt=Object(b.a)((function(e){return{root:{},head:{width:"95%",margin:"auto",padding:e.spacing(2.5,2),backgroundColor:e.palette.primary.main,color:"white",position:"relative"},body:{width:"100%",marginTop:"-32px"},box:{padding:e.spacing(8,3,3,3),"& > *":{marginBottom:e.spacing(3),"&:last-child":{marginBottom:0}}}}}));function ft(){var e=mt(),t=Object(G.c)((function(e){return e.studentProfileSlice})),n=Object(c.useState)(t),r=Object(v.a)(n,2),i=r[0],o=r[1],s=Object(c.useState)(i),l=Object(v.a)(s,2),j=l[0],b=l[1],u=Object(gt.b)().enqueueSnackbar,h=Object(G.b)();function d(){return(d=Object(f.a)(m.a.mark((function e(n){var a,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.preventDefault(),j!==i){e.next=5;break}return u("Nothing changed",{variant:"info",anchorOrigin:{vertical:"bottom",horizontal:"center"}}),e.abrupt("return");case 5:return e.next=7,fetch("".concat("http://139.59.125.235:8001","/student/profile"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:Pe()},body:JSON.stringify(Object(K.a)(Object(K.a)({},i),{},{fetching:void 0,imgSrc:void 0}))});case 7:if((a=e.sent).ok){e.next=15;break}return e.next=11,a.json();case 11:c=e.sent,u("Something went wrong: "+JSON.stringify(c),{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"}}),e.next=18;break;case 15:b(i),h(ie(Object(K.a)(Object(K.a)({},i),{},{imgSrc:t.imgSrc}))),u("C\u1eadp nh\u1eadt Profile th\xe0nh c\xf4ng!",{variant:"success",anchorOrigin:{vertical:"bottom",horizontal:"center"}});case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),alert(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})))).apply(this,arguments)}return Object(a.jsxs)(k.a,{className:e.root,children:[Object(a.jsxs)(bt.a,{className:e.head,children:[Object(a.jsx)(S.a,{variant:"h3",children:"Th\xf4ng tin c\xe1 nh\xe2n"}),Object(a.jsx)(S.a,{variant:"subtitle1",children:"Ch\u1ec9nh s\u1eeda l\u1ea1i th\xf4ng tin c\xe1 nh\xe2n (n\u1ebfu c\u1ea7n)"})]}),Object(a.jsx)(k.a,{className:e.body,children:Object(a.jsx)(bt.a,{children:Object(a.jsxs)(k.a,{className:e.box,children:[Object(a.jsxs)(Ue.a,{container:!0,spacing:2,children:[Object(a.jsx)(Ue.a,{item:!0,xs:4,children:Object(a.jsx)(Ye.a,{InputLabelProps:{shrink:!0},id:"name",label:"H\u1ecd v\xe0 t\xean",fullWidth:!0,value:null===i||void 0===i?void 0:i.name,onChange:function(e){return o(Object(K.a)(Object(K.a)({},i),{},{name:e.target.value}))}})}),Object(a.jsx)(Ue.a,{item:!0,xs:4,children:Object(a.jsx)(xt.a,{utils:jt.a,children:Object(a.jsx)(Ot.a,{id:"birthday",label:"Ng\xe0y sinh",views:["year","month","date"],openTo:"year",disableFuture:!0,autoOk:!0,format:"dd/MM/yyyy",value:null===i||void 0===i?void 0:i.birthDay,onChange:function(e){return o(Object(K.a)(Object(K.a)({},i),{},{birthDay:e}))},KeyboardButtonProps:{"aria-label":"change date"}})})}),Object(a.jsx)(Ue.a,{item:!0,xs:4,children:Object(a.jsxs)(ut.a,{fullWidth:!0,children:[Object(a.jsx)(ht.a,{id:"genderlabel",shrink:!0,children:"Gi\u1edbi t\xednh"}),Object(a.jsxs)(dt.a,{id:"gender",labelId:"genderlabel",value:null===i||void 0===i?void 0:i.gender,onChange:function(e){return o(Object(K.a)(Object(K.a)({},i),{},{gender:e.target.value}))},children:[Object(a.jsx)(pt.a,{value:1,children:"Nam"}),Object(a.jsx)(pt.a,{value:2,children:"N\u1eef"}),Object(a.jsx)(pt.a,{value:3,children:"Kh\xe1c"})]})]})})]}),Object(a.jsxs)(Ue.a,{container:!0,spacing:2,children:[Object(a.jsx)(Ue.a,{item:!0,xs:4,children:Object(a.jsx)(Ye.a,{InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal",label:"CMT/CCCD",value:null===i||void 0===i?void 0:i.cmt,onChange:function(e){return o(Object(K.a)(Object(K.a)({},i),{},{cmt:e.target.value}))}})}),Object(a.jsx)(Ue.a,{item:!0,xs:4,children:Object(a.jsx)(Ye.a,{InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal",label:"Email",value:null===i||void 0===i?void 0:i.email,onChange:function(e){return o(Object(K.a)(Object(K.a)({},i),{},{email:e.target.value}))}})}),Object(a.jsx)(Ue.a,{item:!0,xs:4,children:Object(a.jsx)(Ye.a,{InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal",label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",value:null===i||void 0===i?void 0:i.phone,onChange:function(e){return o(Object(K.a)(Object(K.a)({},i),{},{phone:e.target.value}))}})})]}),Object(a.jsxs)(Ue.a,{container:!0,spacing:2,children:[Object(a.jsx)(Ue.a,{item:!0,xs:6,children:Object(a.jsx)(Ye.a,{InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal",xs:12,label:"Qu\xea qu\xe1n",value:null===i||void 0===i?void 0:i.hometown,onChange:function(e){return o(Object(K.a)(Object(K.a)({},i),{},{hometown:e.target.value}))}})}),Object(a.jsx)(Ue.a,{item:!0,xs:6,children:Object(a.jsx)(Ye.a,{InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal",xs:12,label:"N\u01a1i \u1edf hi\u1ec7n t\u1ea1i",value:null===i||void 0===i?void 0:i.address,onChange:function(e){return o(Object(K.a)(Object(K.a)({},i),{},{address:e.target.value}))}})})]}),Object(a.jsx)(Ue.a,{container:!0,spacing:2,children:Object(a.jsx)(Ue.a,{item:!0,xs:12,children:Object(a.jsx)(Ye.a,{InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal",xs:12,label:"M\xf4 t\u1ea3 b\u1ea3n th\xe2n",multiline:!0,rows:4,value:null===i||void 0===i?void 0:i.description,onChange:function(e){return o(Object(K.a)(Object(K.a)({},i),{},{description:e.target.value}))}})})}),Object(a.jsx)(k.a,{textAlign:"right",children:Object(a.jsx)(B.a,{color:"primary",variant:"contained",onClick:function(e){return d.apply(this,arguments)},children:"C\u1eadp nh\u1eadt th\xf4ng tin"})})]})})})]})}var vt=Object(b.a)((function(e){return{root:{},avatar:{height:"128px",width:"128px",margin:"auto",position:"relative"},paper:{marginTop:"-64px",width:"100%"},name:{fontWeight:600},description:{fontWeight:300,lineHeight:"1.5rem"}}}));function yt(){var e=vt(),t=Object(G.c)((function(e){return e.studentProfileSlice.name})),n=Object(G.c)((function(e){return e.studentProfileSlice.imgSrc})),c=Object(G.c)((function(e){return e.studentProfileSlice.description})),r=Object(gt.b)().enqueueSnackbar,i=Object(G.b)();function o(){return(o=Object(f.a)(m.a.mark((function e(t){var n,a,c,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("avatar",t.target.files[0]),e.next=4,fetch("".concat("http://139.59.125.235:8001","/student/change-avatar"),{method:"POST",headers:{Authorization:Pe()},body:n});case 4:if((a=e.sent).ok){e.next=12;break}return e.next=8,a.json();case 8:c=e.sent,r("Something went wrong: "+JSON.stringify(c),{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"}}),e.next=17;break;case 12:return e.next=14,a.json();case 14:o=e.sent,i(oe(o)),r("C\u1eadp nh\u1eadt Avatar th\xe0nh c\xf4ng!",{variant:"success",anchorOrigin:{vertical:"bottom",horizontal:"right"}});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.jsxs)(k.a,{className:e.root,children:[Object(a.jsxs)("label",{htmlFor:"avatar",children:[Object(a.jsx)("input",{type:"file",accept:"image/*",id:"avatar",style:{display:"none"},onChange:function(e){return o.apply(this,arguments)}}),Object(a.jsx)(w.a,{src:n,className:e.avatar})]}),Object(a.jsx)(bt.a,{className:e.paper,children:Object(a.jsxs)(k.a,{textAlign:"center",px:3,pb:3,pt:"96px",children:[Object(a.jsx)(S.a,{variant:"h5",gutterBottom:!0,children:"Sinh vi\xean \u0110\u1ea1i h\u1ecdc"}),Object(a.jsx)(S.a,{variant:"h3",gutterBottom:!0,className:e.name,children:t||"Nguyen Van A"}),Object(a.jsx)(S.a,{variant:"body2",className:e.description,children:c||"Quisque laoreet, sem a cursus blandit, lectus libero vestibulum purus, id malesuada risus sem id nulla. Curabitur suscipit, dolor at imperdiet dapibus, arcu massa semper enim, vitae consectetur nulla leo blandit nisi. Duis aliquam non turpis sit amet pellentesque. Sed arcu neque, sollicitudin vel ultricies"})]})})]})}function kt(){return Object(a.jsx)("div",{children:Object(a.jsx)(lt,{title:"Th\xf4ng tin c\xe1 nh\xe2n",children:Object(a.jsxs)(Ue.a,{container:!0,spacing:4,children:[Object(a.jsx)(Ue.a,{item:!0,xs:12,md:8,children:Object(a.jsx)(ft,{})}),Object(a.jsx)(Ue.a,{item:!0,xs:12,md:4,children:Object(a.jsx)(yt,{})})]})})})}function wt(e){return Object(a.jsx)("div",{})}var St=n(330),Ct=n(331),Nt=n(332),Tt=n(333),Pt=n(334),At=n(335),Dt=n(235),Wt=n.n(Dt),Kt=Object(b.a)((function(e){return{root:{},head:{padding:e.spacing(2),backgroundColor:e.palette.primary.main,color:"white"}}}));function Ht(e){var t=Kt(),n=Object(G.c)((function(e){return e.sawtoothAccountsSlice.accounts})),c=Object(G.b)(),r=Object(gt.b)().enqueueSnackbar;function i(){return(i=Object(f.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://139.59.125.235:8001","/student/sawtooth-accounts"),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:Pe()},body:JSON.stringify({publicKeyHex:t})});case 2:n=e.sent,a=n.json(),n.ok?(c(de({publicKeyHex:t})),r("X\xf3a t\xe0i kho\u1ea3n th\xe0nh c\xf4ng!",{variant:"success",anchorOrigin:{vertical:"bottom",horizontal:"center"}})):r("Something went wrong: "+JSON.stringify(a),{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"}});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.jsxs)(bt.a,{children:[Object(a.jsx)(S.a,{variant:"h3",className:t.head,children:"Danh s\xe1ch c\xe1c t\xe0i kho\u1ea3n"}),Object(a.jsx)(C.a,{}),Object(a.jsx)(k.a,{pt:1,children:Object(a.jsx)(St.a,{children:Object(a.jsxs)(Ct.a,{size:"small",children:[Object(a.jsx)(Nt.a,{children:Object(a.jsxs)(Tt.a,{children:[Object(a.jsx)(Pt.a,{children:"#"}),Object(a.jsx)(Pt.a,{children:"Public key"}),Object(a.jsx)(Pt.a,{children:"Private key"}),Object(a.jsx)(Pt.a,{children:"Ghi ch\xfa"}),Object(a.jsx)(Pt.a,{align:"center",children:"X\xf3a"})]})}),Object(a.jsx)(At.a,{children:n.map((function(e,t){var n=e.publicKeyHex.slice(0,30)+"..."+e.publicKeyHex.slice(-30);return Object(a.jsxs)(Tt.a,{children:[Object(a.jsx)(Pt.a,{children:t+1}),Object(a.jsx)(Pt.a,{children:n}),Object(a.jsx)(Pt.a,{children:e.privateKeyHex?"*".repeat(e.privateKeyHex.length):"Kh\xf4ng l\u01b0u"}),Object(a.jsx)(Pt.a,{children:e.note}),Object(a.jsx)(Pt.a,{align:"center",children:Object(a.jsx)(Q.a,{onClick:function(t){return function(e){return i.apply(this,arguments)}(e.publicKeyHex)},children:Object(a.jsx)(Wt.a,{})})})]},t)}))})]})})})]})}var zt=Object(b.a)((function(e){return{root:{},head:{padding:e.spacing(2),backgroundColor:e.palette.primary.main,color:"white"},subtitle:{marginBottom:e.spacing(3)}}}));function It(e){var t=zt(),n=Object(c.useState)({publicKeyHex:"",privateKeyHex:"",note:""}),r=Object(v.a)(n,2),i=r[0],o=r[1],s=Object(gt.b)().enqueueSnackbar,l=Object(G.b)();function j(){return(j=Object(f.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.preventDefault(),""!==i.publicKeyHex){e.next=5;break}return s("Public key is require!",{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"}}),e.abrupt("return");case 5:return e.next=7,fetch("".concat("http://139.59.125.235:8001","/student/sawtooth-accounts"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:Pe()},body:JSON.stringify(i)});case 7:if((n=e.sent).ok){e.next=15;break}return e.next=11,n.json();case 11:a=e.sent,s("Something went wrong: "+JSON.stringify(a),{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"}}),e.next=18;break;case 15:l(he(i)),o({publicKeyHex:"",privateKeyHex:"",note:""}),s("Th\xeam t\xe0i kho\u1ea3n th\xe0nh c\xf4ng!",{variant:"success",anchorOrigin:{vertical:"bottom",horizontal:"center"}});case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),alert(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})))).apply(this,arguments)}return Object(a.jsxs)(bt.a,{children:[Object(a.jsx)(S.a,{variant:"h3",className:t.head,children:"Th\xeam t\xe0i kho\u1ea3n"}),Object(a.jsxs)(k.a,{px:2,py:3,children:[Object(a.jsx)(S.a,{variant:"h5",className:t.subtitle,children:"Th\xeam t\xe0i kho\u1ea3n b\u1eb1ng public/private key"}),Object(a.jsxs)(Ue.a,{container:!0,spacing:4,alignItems:"flex-end",children:[Object(a.jsx)(Ue.a,{item:!0,xs:12,md:4,children:Object(a.jsx)(Ye.a,{label:"Public key",InputLabelProps:{shrink:!0},fullWidth:!0,value:i.publicKeyHex,onChange:function(e){return o(Object(K.a)(Object(K.a)({},i),{},{publicKeyHex:e.target.value}))}})}),Object(a.jsx)(Ue.a,{item:!0,xs:12,md:4,children:Object(a.jsx)(Ye.a,{label:"Private key (optional)",InputLabelProps:{shrink:!0},InputProps:{type:"password"},fullWidth:!0,value:i.privateKeyHex,onChange:function(e){return o(Object(K.a)(Object(K.a)({},i),{},{privateKeyHex:e.target.value}))}})}),Object(a.jsx)(Ue.a,{item:!0,xs:12,md:2,children:Object(a.jsx)(Ye.a,{label:"Ghi ch\xfa",InputLabelProps:{shrink:!0},fullWidth:!0,value:i.note,onChange:function(e){return o(Object(K.a)(Object(K.a)({},i),{},{note:e.target.value}))}})}),Object(a.jsx)(Ue.a,{item:!0,xs:12,md:2,children:Object(a.jsx)(k.a,{textAlign:"right",children:Object(a.jsx)(B.a,{variant:"contained",color:"primary",onClick:function(e){return j.apply(this,arguments)},children:"Th\xeam t\xe0i kho\u1ea3n"})})})]})]})]})}var Bt=Object(b.a)((function(e){return{root:{"& > * ":{marginBottom:e.spacing(4)}}}}));function Et(){var e=Bt(),t=Object(G.c)((function(e){return e.sawtoothAccountsSlice.fetching})),n=Object(G.b)();function r(){return(r=Object(f.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("http://139.59.125.235:8001","/student/sawtooth-accounts"),{headers:{Authorization:Pe()}});case 3:if((t=e.sent).ok){e.next=14;break}return e.t0=alert,e.t1=JSON,e.next=9,t.json();case 9:e.t2=e.sent,e.t3=e.t1.stringify.call(e.t1,e.t2),(0,e.t0)(e.t3),e.next=18;break;case 14:return e.next=16,t.json();case 16:a=e.sent,n(ue(a));case 18:e.next=24;break;case 20:e.prev=20,e.t4=e.catch(0),console.log(e.t4),alert(e.t4);case 24:case"end":return e.stop()}}),e,null,[[0,20]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){r.apply(this,arguments)}()}),[]),Object(a.jsx)(lt,{title:"Qu\u1ea3n l\xfd t\xe0i kho\u1ea3n",children:t?null:Object(a.jsxs)(k.a,{className:e.root,children:[Object(a.jsx)(Ht,{}),Object(a.jsx)(It,{})]})})}var Mt=n(324),Gt=n(337),Ft=n(325),qt=n(338),Lt=n(326),Jt=n(336),Rt=n(236),_t=n.n(Rt),Qt=Object(b.a)((function(e){return{root:{padding:e.spacing(2),"& .MuiTypography-gutterBottom":{marginBottom:0}}}}));function Vt(e){var t=Qt(),n=Object(G.c)((function(e){return e.shareCertificateSlice.decryptedDataOfAccount})),r=Object(c.useState)(null),i=Object(v.a)(r,2),o=i[0],s=i[1],l=Object(gt.b)().enqueueSnackbar;function j(){return(j=Object(f.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.certificate.versions[0].active){e.next=3;break}return l("Kh\xf4ng th\u1ec3 chia s\u1ebb b\u1eb1ng c\u1ea5p \u0111\xe3 b\u1ecb thu h\u1ed3i!",{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"}}),e.abrupt("return");case 3:return e.next=5,fetch("".concat("http://139.59.125.235:8001","/student/gen-token"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:Pe()},body:JSON.stringify(n)});case 5:return t=e.sent,e.next=8,t.json();case 8:a=e.sent,t.ok?s(a.token):l("Something went wrong: "+JSON.stringify(a),{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"}});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.jsxs)(bt.a,{className:t.root,children:[Object(a.jsxs)(k.a,{display:"flex",alignItems:"center",children:[Object(a.jsx)(k.a,{flexGrow:1,children:Object(a.jsx)(et.a,{severity:"success",children:Object(a.jsx)(Jt.a,{children:"Gi\u1ea3i m\xe3 d\u1eef li\u1ec7u b\u1ea3n m\xe3 th\xe0nh c\xf4ng!"})})}),n.certificate&&Object(a.jsx)(k.a,{pl:2,flexShrink:0,children:Object(a.jsx)(B.a,{variant:"contained",color:"primary",onClick:function(){return j.apply(this,arguments)},children:"Chia s\u1ebb"})})]}),Object(a.jsx)(Ut,{token:o,setToken:s})]})}function Ut(e){var t=e.token,n=e.setToken;return Object(a.jsxs)(Mt.a,{open:Boolean(t),onClose:function(e){return n(null)},children:[Object(a.jsx)(Gt.a,{children:"Token"}),Object(a.jsx)(Ft.a,{children:Object(a.jsxs)(qt.a,{style:{wordWrap:"break-word"},children:[t," "]})}),Object(a.jsxs)(Lt.a,{children:[Object(a.jsx)(B.a,{color:"primary",onClick:function(e){navigator.clipboard.writeText(t),n(null)},children:"Copy"}),Object(a.jsx)(B.a,{color:"primary",onClick:function(e){var a=new Blob([t],{type:"text/plain;charset=utf-8"});_t.a.saveAs(a,"B4E-Certificate-Token.jwt"),n(null)},children:"Download"})]})]})}var Xt=Object(b.a)((function(e){return{root:{padding:e.spacing(2),"& .MuiTypography-gutterBottom":{marginBottom:0}}}}));function Yt(e){var t=Xt(),n=Object(G.c)((function(e){return e.shareCertificateSlice.currentSelectedAccount})),c=Object(G.c)((function(e){return e.shareCertificateSlice.encryptedDataOfAccount})),r=Object(G.b)(),i=Object(gt.b)().enqueueSnackbar;function o(){return(o=Object(f.a)(m.a.mark((function e(){var t,a,o,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.privateKey){e.next=12;break}return i("H\xe3y m\u1edf v\xed v\xe0 ch\u1ecdn t\xe0i kho\u1ea3n!",{variant:"info",anchorOrigin:{vertical:"top",horizontal:"center"}}),e.next=5,s();case 5:if((a=e.sent).ok){e.next=11;break}return i("B\u1ea1n c\u1ea7n cung c\u1ea5p private key \u0111\u1ec3 c\xf3 th\u1ec3 gi\u1ea3i m\xe3!",{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"}}),e.abrupt("return");case 11:t=a.privateKeyHex;case 12:return e.next=14,fetch("".concat("http://139.59.125.235:8001","/student/decrypt-data"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:Pe()},body:JSON.stringify({encryptData:c,privateKeyHex:t})});case 14:return o=e.sent,e.next=17,o.json();case 17:l=e.sent,o.ok?r(ye(l)):console.log(l);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return l.apply(this,arguments)}function l(){return(l=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){window.postMessage({type:"SIGN_REQUEST"},window.origin),window.addEventListener("message",(function(t){if("SIGN_RESPONSE"===t.data.type&&t.origin===window.origin)return t.data.accept?e({ok:!0,privateKeyHex:t.data.account.privateKey}):e({ok:!1})}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.jsx)(bt.a,{className:t.root,children:Object(a.jsxs)(k.a,{display:"flex",alignItems:"center",children:[Object(a.jsx)(k.a,{flexGrow:1,children:Object(a.jsx)(et.a,{severity:"success",children:Object(a.jsx)(Jt.a,{children:"L\u1ea5y d\u1eef li\u1ec7u b\u1ea3n m\xe3 th\xe0nh c\xf4ng!"})})}),Object(a.jsx)(k.a,{pl:2,flexShrink:0,children:Object(a.jsx)(B.a,{variant:"contained",color:"primary",onClick:function(){return o.apply(this,arguments)},children:"Gi\u1ea3i m\xe3"})})]})})}var $t=n(339),Zt=n(239),en=n.n(Zt),tn=n(240),nn=n.n(tn);function an(e){return Object(a.jsxs)(Xe.a,{target:"_blank",href:"".concat("http://139.59.125.235:3006","/#/transactions/").concat(e),children:[e.slice(0,30),"..."]})}var cn=Object(b.a)((function(e){return{root:{padding:e.spacing(0,2,2,2)}}}));function rn(e){var t=cn(),n=Object(G.c)((function(e){var t,n;return null===(t=e.shareCertificateSlice.decryptedDataOfAccount)||void 0===t||null===(n=t.certificate)||void 0===n?void 0:n.versions}));return Object(a.jsx)("div",{children:Object(a.jsxs)(bt.a,{className:t.root,children:[!n&&Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(k.a,{pt:2,pb:1,children:[Object(a.jsx)(S.a,{variant:"h4",gutterBottom:!0,children:"Th\xf4ng tin b\u1eb1ng c\u1ea5p"}),Object(a.jsx)(C.a,{}),Object(a.jsx)(S.a,{style:{paddingTop:"8px"},children:"Ch\u01b0a c\xf3 b\u1eb1ng c\u1ea5p!"})]})}),n&&n[0]&&Object(a.jsx)(on,{cert:n[0]})]})})}function on(e){var t=e.cert;console.log(t);var n=function(e,t){var n=an(t.txid),a={"H\u1ecd v\xe0 t\xean":e.name,"Ng\xe0y sinh":e.birthday,"Gi\u1edbi t\xednh":e.gender,"Tr\u01b0\u1eddng":e.university,"Ng\xe0nh h\u1ecdc":e.faculty,"Lo\u1ea1i b\u1eb1ng":e.degree,"N\u0103m t\u1ed1t nghi\u1ec7p":e.gradyear},c={"X\u1ebfp lo\u1ea1i":e.level,"H\xecnh th\u1ee9c \u0111\xe0o t\u1ea1o":e.eduform,"N\u01a1i c\u1ea5p":e.issuelocation,"Ng\xe0y c\u1ea5p":e.issuedate,"Hi\u1ec7u tr\u01b0\u1edfng":e.headmaster,"S\u1ed1 hi\u1ec7u v\xe0o s\u1ed5":e.globalregisno,Txid:n};return[a,c]}(t.plain,t),c=Object(v.a)(n,2),r=c[0],i=c[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(k.a,{pt:2,pb:1,display:"flex",justifyContent:"space-between",alignItems:"center",children:[Object(a.jsx)(S.a,{variant:"h4",children:"Th\xf4ng tin b\u1eb1ng c\u1ea5p"}),t.active&&Object(a.jsx)($t.a,{title:"B\u1eb1ng c\u1ea5p h\u1ee3p l\u1ec7, s\u1eb5n s\xe0ng \u0111\u1ec3 chia s\u1ebb",children:Object(a.jsx)(en.a,{color:"primary",size:"1rem"})}),!t.active&&Object(a.jsx)($t.a,{title:"B\u1eb1ng c\u1ea5p \u0111\xe3 b\u1ecb thu h\u1ed3i!",children:Object(a.jsx)(nn.a,{color:"secondary",size:"1rem"})})]}),Object(a.jsx)(C.a,{}),Object(a.jsxs)(Ue.a,{container:!0,children:[Object(a.jsx)(Ue.a,{item:!0,sm:12,md:6,children:Object(a.jsx)(sn,{rows:r})}),Object(a.jsx)(Ue.a,{item:!0,sm:12,md:6,children:Object(a.jsx)(sn,{rows:i})})]})]})}function sn(e){var t=e.rows;return Object(a.jsx)(St.a,{children:Object(a.jsx)(Ct.a,{size:"small",children:Object(a.jsx)(At.a,{children:Object.entries(t).map((function(e,t){return Object(a.jsxs)(Tt.a,{children:[Object(a.jsx)(Pt.a,{style:{width:"50%"},children:e[0]}),Object(a.jsx)(Pt.a,{children:e[1]})]},t)}))})})})}var ln=Object(b.a)((function(e){return{root:{padding:e.spacing(2)}}}));function jn(e){var t=ln(),n=Object(G.c)((function(e){return e.shareCertificateSlice.decryptedDataOfAccount.subjects}));return Object(a.jsx)("div",{children:Object(a.jsxs)(bt.a,{className:t.root,children:[Object(a.jsx)(S.a,{gutterBottom:!0,variant:"h4",children:"Th\xf4ng tin b\u1ea3ng \u0111i\u1ec3m"}),Object(a.jsx)(C.a,{}),Object(a.jsx)(St.a,{children:Object(a.jsxs)(Ct.a,{size:"small",children:[Object(a.jsx)(Nt.a,{children:Object(a.jsxs)(Tt.a,{children:[Object(a.jsx)(Pt.a,{children:"K\xec h\u1ecdc"}),Object(a.jsx)(Pt.a,{children:"M\xe3 HP"}),Object(a.jsx)(Pt.a,{children:"T\xean HP"}),Object(a.jsx)(Pt.a,{children:"S\u1ed1 t\xedn ch\u1ec9"}),Object(a.jsx)(Pt.a,{children:"\u0110i\u1ec3m GK"}),Object(a.jsx)(Pt.a,{children:"\u0110i\u1ec3m CK"}),Object(a.jsx)(Pt.a,{children:"M\xe3 GV"}),Object(a.jsx)(Pt.a,{children:"T\xean GV"}),Object(a.jsx)(Pt.a,{children:"Txid"})]})}),Object(a.jsx)(At.a,{children:n.map((function(e,t){return Object(a.jsx)(r.a.Fragment,{children:e.versions.map((function(e,t){return Object(a.jsxs)(Tt.a,{children:[Object(a.jsx)(Pt.a,{children:e.plain.semester}),Object(a.jsx)(Pt.a,{children:e.plain.subject.subjectId}),Object(a.jsx)(Pt.a,{children:e.plain.subject.name}),Object(a.jsx)(Pt.a,{children:e.plain.subject.credit}),Object(a.jsx)(Pt.a,{children:e.plain.halfSemesterPoint}),Object(a.jsx)(Pt.a,{children:e.plain.finalSemesterPoint}),Object(a.jsx)(Pt.a,{children:e.plain.teacherId}),Object(a.jsx)(Pt.a,{children:e.plain.teacherName}),Object(a.jsx)(Pt.a,{children:an(e.txid)})]},t)}))},t)}))})]})})]})})}var bn=Object(b.a)((function(e){return{root:{padding:e.spacing(2)}}}));function un(e){var t=bn(),n=Object(G.c)((function(e){var t=e.shareCertificateSlice.encryptedDataOfAccount.certificate.versions;return t?t[0].cipher:Object(a.jsx)(S.a,{children:"Ch\u01b0a c\xf3 b\u1eb1ng c\u1ea5p!"})}));return Object(a.jsx)("div",{children:Object(a.jsxs)(bt.a,{className:t.root,children:[Object(a.jsx)(k.a,{mb:1,children:Object(a.jsx)(S.a,{variant:"h4",children:"Th\xf4ng tin b\u1eb1ng c\u1ea5p (d\u1ea1ng m\xe3 h\xf3a)"})}),Object(a.jsx)(C.a,{}),Object(a.jsx)(k.a,{mt:2,style:{wordWrap:"break-word"},children:n})]})})}var hn=Object(b.a)((function(e){return{root:{padding:e.spacing(2)}}}));function dn(e){var t=hn(),n=Object(G.c)((function(e){return e.shareCertificateSlice.encryptedDataOfAccount.subjects}));return Object(a.jsx)("div",{children:Object(a.jsxs)(bt.a,{className:t.root,children:[Object(a.jsx)(k.a,{mb:1,children:Object(a.jsx)(S.a,{variant:"h4",children:"Th\xf4ng tin b\u1ea3ng \u0111i\u1ec3m (d\u1ea1ng m\xe3 h\xf3a)"})}),Object(a.jsx)(C.a,{}),Object(a.jsx)(k.a,{mt:2,children:n.map((function(e,t){return Object(a.jsx)(r.a.Fragment,{children:e.versions.map((function(e,t){return Object(a.jsx)(k.a,{mt:2,style:{wordWrap:"break-word"},children:e.cipher},t)}))},t)}))})]})})}var pn=n(347),xn=Object(b.a)((function(e){return{root:{padding:e.spacing(2,2)}}}));function On(e){var t=xn(),n=Object(G.c)((function(e){return e.sawtoothAccountsSlice.accounts})),c=Object(G.c)((function(e){return e.shareCertificateSlice.currentSelectedAccount})),r=Object(G.b)();function i(){return(i=Object(f.a)(m.a.mark((function e(t,n){var a,c,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n){e.next=4;break}r(ve()),e.next=12;break;case 4:return a=n.publicKeyHex,e.next=7,fetch("".concat("http://139.59.125.235:8001","/student/encrypted-data?publicKeyHex=").concat(a),{headers:{"Content-Type":"application/json",Authorization:Pe()}});case 7:return c=e.sent,e.next=10,c.json();case 10:i=e.sent,c.ok?r(fe({currentSelectedAccount:n,encryptedDataOfAccount:i})):console.log(i);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.jsx)(bt.a,{className:t.root,children:Object(a.jsx)(pn.a,{size:"small",renderInput:function(e){return Object(a.jsx)(Ye.a,Object(K.a)(Object(K.a)({},e),{},{label:"Ch\u1ecdn t\xe0i kho\u1ea3n",variant:"outlined"}))},options:n,getOptionLabel:function(e){return"".concat(e.publicKeyHex.slice(0,30)+"..."+e.publicKeyHex.slice(-30)," - ").concat(e.note)},value:c,getOptionSelected:function(e,t){return e.publicKeyHex===t.publicKeyHex},onChange:function(e,t){return i.apply(this,arguments)}})})}var gn=Object(b.a)((function(e){return{root:{"& > *":{margin:e.spacing(2,0)}}}}));function mn(e){var t=gn(),n=Object(G.c)((function(e){return e.shareCertificateSlice.show}));return Object(a.jsx)(lt,{title:"Chia s\u1ebb b\u1eb1ng c\u1ea5p",children:Object(a.jsxs)(k.a,{className:t.root,children:[Object(a.jsx)(On,{}),"encrypt"===n&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Yt,{}),Object(a.jsx)(un,{}),Object(a.jsx)(dn,{})]}),"decrypt"===n&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Vt,{}),Object(a.jsx)(rn,{}),Object(a.jsx)(jn,{})]})]})})}function fn(e){return Pe()?Object(a.jsx)(l.a,{to:"/nh/thong-tin-ca-nhan"}):Object(a.jsx)(l.a,{to:"/dang-ki"})}var vn=[{path:"/nh",element:Object(a.jsx)(Ee,{}),children:[{path:"thong-tin-ca-nhan",element:Object(a.jsx)(kt,{})},{path:"quan-ly-tai-khoan",element:Object(a.jsx)(Et,{})},{path:"chia-se-bang-cap",element:Object(a.jsx)(mn,{})},{path:"*",element:Object(a.jsx)(l.a,{to:"/404",replace:!0})}]},{path:"test",element:Object(a.jsx)(wt,{})},{path:"/",element:Object(a.jsx)(qe,{}),children:[{path:"dang-ki",element:Object(a.jsx)(at,{})},{path:"dang-nhap",element:Object(a.jsx)(st,{})},{path:"404",element:Object(a.jsx)(Qe,{})},{path:"/",element:Object(a.jsx)(fn,{})},{path:"*",element:Object(a.jsx)(l.a,{to:"/404"})}]}],yn=function(){var e=Object(l.i)(vn);return Object(a.jsxs)(j.a,{theme:O,children:[Object(a.jsx)(d,{}),Object(a.jsx)(G.a,{store:we,children:Object(a.jsx)(gt.a,{maxSnack:1,children:e})})]})};o.a.render(Object(a.jsx)(s.a,{children:Object(a.jsx)(yn,{})}),document.getElementById("root"))}},[[269,1,2]]]);
//# sourceMappingURL=main.c271c176.chunk.js.map